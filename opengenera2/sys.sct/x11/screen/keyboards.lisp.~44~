;;; -*- Base: 10; Package: X-SCREEN; Mode: LISP; Syntax: Common-lisp; Lowercase: T -*-
;;;>
;;;> *****************************************************************************************
;;;> ** (c) Copyright 1998-1982 Symbolics, Inc.  All rights reserved.
;;;> ** Portions of font library Copyright (c) 1984 Bitstream, Inc.  All Rights Reserved.
;;;>
;;;>    The software, data, and information contained herein are proprietary to,
;;;> and comprise valuable trade secrets of, Symbolics, Inc., which intends 
;;;> to keep such software, data, and information confidential and to preserve them
;;;> as trade secrets.  They are given in confidence by Symbolics pursuant 
;;;> to a written license agreement, and may be used, copied, transmitted, and stored
;;;> only in accordance with the terms of such license.
;;;> 
;;;> Symbolics, Symbolics 3600, Symbolics 3675, Symbolics 3630, Symbolics 3640,
;;;> Symbolics 3645, Symbolics 3650, Symbolics 3653, Symbolics 3620, Symbolics 3610,
;;;> Zetalisp, Open Genera, Virtual Lisp Machine, VLM, Wheels, Dynamic Windows,
;;;> SmartStore, Semanticue, Frame-Up, Firewall, Document Examiner,
;;;> Delivery Document Examiner, "Your Next Step in Computing", Ivory, MacIvory,
;;;> MacIvory model 1, MacIvory model 2, MacIvory model 3, XL400, XL1200, XL1201,
;;;> Symbolics UX400S, Symbolics UX1200S, NXP1000, Symbolics C, Symbolics Pascal,
;;;> Symbolics Prolog, Symbolics Fortran, CLOE, CLOE Application Generator,
;;;> CLOE Developer, CLOE Runtime, Common Lisp Developer, Symbolics Concordia,
;;;> Joshua, Statice, and Minima are trademarks of Symbolics, Inc.
;;;> 
;;;> Symbolics 3670, Symbolics Common Lisp, Symbolics-Lisp, and Genera are registered
;;;> trademarks of Symbolics, Inc.
;;;>
;;;> GOVERNMENT PURPOSE RIGHTS LEGEND
;;;> 
;;;>      Contract No.: various
;;;>      Contractor Name: Symbolics, Inc.
;;;>      Contractor Address: c/o Ropes & Gray
;;;> 			 One International Place
;;;> 			 Boston, Massachusetts 02110-2624
;;;>      Expiration Date: 2/27/2018
;;;>      
;;;> The Government's rights to use, modify, reproduce, release, perform, display or
;;;> disclose this software are restricted by paragraph (b)(2) of the "Rights in
;;;> Noncommercial Computer Software and Noncommercial Computer Software Documentation"
;;;> contained in the above identified contracts.  No restrictions apply after the
;;;> expiration date shown above.  Any reproduction of the software or portions thereof
;;;> marked with this legend must also reproduce the markings.  Questions regarding
;;;> the Government's rights may be referred to the AS&T Contracts Office of the
;;;> National Reconnaissance Office, Chantilly, Virginia 20151-1715.
;;;> 
;;;>      Symbolics, Inc.
;;;>      c/o Ropes & Gray
;;;>      One International Place
;;;>      Boston, Massachusetts 02110-2624
;;;>      781-937-7655
;;;>
;;;> *****************************************************************************************
;;;>

(defstruct (keyboard-signature (:copier nil) (:predicate nil))
  name keys vendor-name vendor-version keycode-offset)
  
(defvar *keyboard-signatures* nil)

(defun define-keyboard-signature-internal (name options keys)
  (record-source-file-name name 'define-keyboard-signature)
  (pushnew (apply #'make-keyboard-signature :name name :keys keys options)
	   *keyboard-signatures*
	   :test #'(lambda (x y)
		     (and (eq (keyboard-signature-name x)
			      (keyboard-signature-name y))
			  (string-equal (keyboard-signature-vendor-name x)
					(keyboard-signature-vendor-name y))
			  (eql (keyboard-signature-vendor-version x)
			       (keyboard-signature-vendor-version y))))
	   :replace t)
  name)

(pushnew 'define-keyboard-signature si:*source-file-types-which-may-appear-more-than-once*)
						;
(defmacro define-keyboard-signature (name options &body keys)
  (declare (arglist name (&key vendor-name vendor-version keycode-offset) &body keys))
  `(define-keyboard-signature-internal ',name ',options ',keys))

(defun display-keyboard-signature-keys (display)
  (loop with nshifts = (array-dimension (xlib::display-keyboard-mapping display) 1)
	for code from (xlib:display-min-keycode display)
		 to (xlib:display-max-keycode display)
	for keysyms =
	    (loop for shift below nshifts
		  for keysym = (xlib:keycode->keysym display code shift)
		  collect (or (first (gethash keysym *keysym-name-table*))
			      keysym))
	unless (loop for keysym in keysyms always (eql keysym 0))
	  collect (cons code keysyms)))

(defun display-define-keyboard-signature-form (name options &rest open-display-options)
  (let ((display nil))
    (unwind-protect-case (aborted-p)
	(progn
	  (setq display (apply #'xlib:open-display open-display-options))
	  (unless (getf options :vendor-name)
	    (setq options (copy-list options))
	    (setf (getf options :vendor-name) (xlib:display-vendor-name display)))
	  (unless (getf options :keycode-offset)
	    (setq options (copy-list options))
	    (setf (getf options :keycode-offset) 0))
	  `(define-keyboard-signature ,name ,options
	     ,@(display-keyboard-signature-keys display)))
      (:always
	(when display (xlib:close-display display :abort aborted-p))))))

(defun keyboard-signature-keys-difference (known-keys display-keys)
  (loop with known-keys = known-keys
	with display-keys = display-keys
	with known-key = (pop known-keys)
	with display-key = (pop display-keys)
	with difference = nil
	do (cond ((or (equal known-key display-key)
		      (and (< (length known-key) (length display-key))
			   (equal known-key (subseq display-key 0 (length known-key)))))
		  (setq known-key (pop known-keys) display-key (pop display-keys)))
		 ((= (first known-key) (first display-key))
		  (push (shiftf known-key (pop known-keys)) difference)
		  (push (shiftf display-key (pop display-keys)) difference))
		 ((< (first known-key) (first display-key))
		  (push (shiftf known-key (pop known-keys)) difference))
		 ((> (first known-key) (first display-key))
		  (push (shiftf display-key (pop display-keys)) difference)))
	until (or (null known-key) (null display-key))
	finally (loop while known-key
		      do (push (shiftf known-key (pop known-keys)) difference))
		(loop while display-key
		      do (push (shiftf display-key (pop display-keys)) difference))
		(return difference)))

(defun compare-keyboard-signature-keys
       (known-vendor-name known-vendor-version known-keys
	display-vendor-name display-vendor-version display-keys)
  (cond ((and (stringp known-vendor-name)
	      (stringp display-vendor-name)
	      (not (string-equal known-vendor-name display-vendor-name))
	      (or (> (length known-vendor-name) (length display-vendor-name))
		  (not (string-equal known-vendor-name display-vendor-name
				     :end2 (length known-vendor-name)))))
	 -1)
	((and (numberp known-vendor-version)
	      (numberp display-vendor-version)
	      (not (= known-vendor-version display-vendor-version)))
	 -1)
	(t
	 (- 1.0s0
	    (/ (float (length (keyboard-signature-keys-difference
				known-keys display-keys)))
	       (float (+ (length known-keys) (length display-keys))))))))

(defun display-keyboard-layout-type (display)
  (declare (values layout-type keycode-offset))
  (multiple-value-bind (vendor-name vendor-version)
      (xlib:display-vendor display)
    (let ((keys (display-keyboard-signature-keys display)))
      (loop with highest-score = -1
	    with highest-scoring-keyboard-signature = nil
	    for keyboard-signature in *keyboard-signatures*
	    for score =
		(compare-keyboard-signature-keys
		  (keyboard-signature-vendor-name keyboard-signature)
		  (keyboard-signature-vendor-version keyboard-signature)
		  (keyboard-signature-keys keyboard-signature)
		  vendor-name vendor-version keys)
	    when (> score highest-score)
	      do (setq highest-score score)
		 (setq highest-scoring-keyboard-signature keyboard-signature)
	    finally
	      (when (> highest-score .75s0)
		(return
		  (values
		    (keyboard-signature-name highest-scoring-keyboard-signature)
		    (keyboard-signature-keycode-offset highest-scoring-keyboard-signature))))
	      ))))

(defstruct (keyboard-mapping (:copier nil) (:predicate nil))
  name keys leds)

(defvar *keyboard-mappings* nil)

(defun define-keyboard-mapping-internal (name options keys)
  (record-source-file-name name 'define-keyboard-mapping)
  (pushnew (apply #'make-keyboard-mapping :name name :keys keys options)
	   *keyboard-mappings*
	   :key #'keyboard-mapping-name
	   :replace t)
  name)

(defmacro define-keyboard-mapping (name options &body keys)
  (declare (arglist name (&key leds) &body keys))
  `(define-keyboard-mapping-internal ',name ',options ',keys))

(defun layout-type-keyboard-mapping (layout-type)
  (find layout-type *keyboard-mappings* :key #'keyboard-mapping-name))

(define-keyboard-mapping :default ()
  (:f1  #\Select #\Square)
  (:f2  #\Network #\Circle)
  (:f3  #\Function #\Triangle)
  (:f4  #\Suspend (:mode-lock :locking t))
  (:f5  #\Resume)
  (:f6  #\Abort)
  (:f7  :left-super)
  (:f8  :left-hyper)
  (:f9  #\Scroll #\Page)
  (:f10 #\Clear-Input #\Refresh)
  (:f11 #\Complete #\End)
  (:f12 #\Help)

  (:keypad-decimal-point       #\Rubout)
  (:keypad-digit-one           #\End)
  (:keypad-digit-two           #\Keyboard:Down)
  (:keypad-digit-three         #\Scroll)
  (:keypad-digit-four          #\Keyboard:Left)
  (:keypad-digit-five          :right-symbol)
  (:keypad-digit-six           #\Keyboard:Right)
  (:keypad-digit-seven         #\Keyboard:Home)
  (:keypad-digit-eight         #\Keyboard:Up)
  (:keypad-digit-nine          #\Keyboard:Back-Scroll)
  (:keypad-division-sign       #\Keyboard:Paste)
  (:keypad-multiplication-sign #\Keyboard:Cut)
  (:keypad-minus-sign          #\Keyboard:Copy)

  (:home     #\Keyboard:Home)
  (:up       #\Keyboard:Up)
  (:left     #\Keyboard:Left)
  (:right    #\Keyboard:Right)
  (:down     #\Keyboard:Down)
  (:print    #\Keyboard:Print)
  (:undo     #\Keyboard:Undo)
  (:redo     #\Keyboard:Redo)
  (:find     #\Keyboard:Find)
  (:next     #\Scroll)
  (:prior    #\Keyboard:Back-Scroll)

  (:break    #\Suspend)

  (:num-lock (:num-lock :locking t))

  (:left-alt :left-symbol)
  (:right-alt :right-symbol)
  )

;;;; Symbolics keyboard

#||
(display-define-keyboard-signature-form :Symbolics '(:keycode-offset 8) "Crawler")
||#

(define-keyboard-signature :Symbolics (:vendor-name "Symbolics, Inc." :keycode-offset 8)
  (9 :caps-lock :caps-lock)
  (10 :left-hyper :left-hyper)
  (11 :left-meta :left-meta)
  (12 :right-control :right-control)
  (13 :right-super :right-super)
  (14 :next :next)
  (16 :select :select)
  (17 :left-alt :left-alt)
  (18 :left-super :left-super)
  (19 :left-control :left-control)
  (20 :space :space)
  (21 :right-meta :right-meta)
  (22 :right-hyper :right-hyper)
  (23 :end :end)
  (24 :latin-small-letter-z :latin-capital-letter-z)
  (25 :latin-small-letter-c :latin-capital-letter-c)
  (26 :latin-small-letter-b :latin-capital-letter-b)
  (27 :latin-small-letter-m :latin-capital-letter-m)
  (28 :full-stop :greater-than-sign)
  (29 :right-shift :right-shift)
  (31 :cancel :cancel)
  (32 :left-shift :left-shift)
  (33 :latin-small-letter-x :latin-capital-letter-x)
  (34 :latin-small-letter-v :latin-capital-letter-v)
  (35 :latin-small-letter-n :latin-capital-letter-n)
  (36 :comma :less-than-sign)
  (37 :solidus :question-mark)
  (38 :right-alt :right-alt)
  (39 :help :help)
  (40 :delete :delete)
  (41 :latin-small-letter-s :latin-capital-letter-s)
  (42 :latin-small-letter-f :latin-capital-letter-f)
  (43 :latin-small-letter-h :latin-capital-letter-h)
  (44 :latin-small-letter-k :latin-capital-letter-k)
  (45 :semicolon :colon)
  (46 :return :return)
  (47 :find :find)
  (49 :latin-small-letter-a :latin-capital-letter-a)
  (50 :latin-small-letter-d :latin-capital-letter-d)
  (51 :latin-small-letter-g :latin-capital-letter-g)
  (52 :latin-small-letter-j :latin-capital-letter-j)
  (53 :latin-small-letter-l :latin-capital-letter-l)
  (54 :apostrophe :quotation-mark)
  (55 :linefeed :linefeed)
  (56 :multi-key-character-preface :multi-key-character-preface)
  (57 :latin-small-letter-w :latin-capital-letter-w)
  (58 :latin-small-letter-r :latin-capital-letter-r)
  (59 :latin-small-letter-y :latin-capital-letter-y)
  (60 :latin-small-letter-i :latin-capital-letter-i)
  (61 :latin-small-letter-p :latin-capital-letter-p)
  (62 :right-parenthesis :right-square-bracket)
  (63 :ff :ff)
  (64 :tab :tab)
  (65 :latin-small-letter-q :latin-capital-letter-q)
  (66 :latin-small-letter-e :latin-capital-letter-e)
  (67 :latin-small-letter-t :latin-capital-letter-t)
  (68 :latin-small-letter-u :latin-capital-letter-u)
  (69 :latin-small-letter-o :latin-capital-letter-o)
  (70 :left-parenthesis :left-square-bracket)
  (71 :backspace :backspace)
  (72 :colon :colon)
  (73 :digit-two :commercial-at)
  (74 :digit-four :dollar-sign)
  (75 :digit-six :circumflex-accent)
  (76 :digit-eight :asterisk)
  (77 :digit-zero :right-parenthesis)
  (78 :equals-sign :plus-sign)
  (79 :reverse-solidus :left-curly-bracket)
  (80 :digit-one :exclamation-point)
  (81 :digit-three :number-sign)
  (82 :digit-five :percent-sign)
  (83 :digit-seven :ampersand)
  (84 :digit-nine :left-parenthesis)
  (85 :hyphen :low-line)
  (86 :grave-accent :tilde)
  (87 :vertical-line :right-curly-bracket)
  (88 :escape :escape)
  (89 :print :print)
  (90 :en-filled-square-bullet :en-filled-square-bullet)
  (91 :en-filled-circle-bullet :en-filled-circle-bullet)
  (92 :filled-triangular-bullet-up :filled-triangular-bullet-up)
  (93 :clear :clear)
  (94 :pause :pause)
  (95 :execute :execute))

(define-keyboard-mapping :Symbolics ()
  )

;;;; Sun type 3 keyboard 

#||
(display-define-keyboard-signature-form :sun-type-3 '(:keycode-offset 7) "EDVAC")
||#

(define-keyboard-signature :sun-type-3 (:vendor-name "MIT X Consortium" :keycode-offset 7)
  (8 :f11 :f11)
  (10 :f12 :f12)
  (12 :f1 :f1)
  (13 :f2 :f2)
  (15 :f3 :f3)
  (17 :f4 :f4)
  (19 :f5 :f5)
  (21 :f6 :f6)
  (23 :f7 :f7)
  (24 :f8 :f8)
  (25 :f9 :f9)
  (26 :right-alt :right-alt)
  (28 :f21 :f21)
  (29 :f22 :f22)
  (30 :f23 :f23)
  (32 :f13 :f13)
  (33 :f14 :f14)
  (36 :escape :escape)
  (37 :digit-one :exclamation-point)
  (38 :digit-two :commercial-at)
  (39 :digit-three :number-sign)
  (40 :digit-four :dollar-sign)
  (41 :digit-five :percent-sign)
  (42 :digit-six :circumflex-accent)
  (43 :digit-seven :ampersand)
  (44 :digit-eight :asterisk)
  (45 :digit-nine :left-parenthesis)
  (46 :digit-zero :right-parenthesis)
  (47 :hyphen :low-line)
  (48 :equals-sign :plus-sign)
  (49 :grave-accent :tilde)
  (50 :backspace :backspace)
  (52 :f24 :f24)
  (53 :f25 :f25)
  (54 :f26 :f26)
  (56 :f15 :f15)
  (58 :f16 :f16)
  (60 :tab :tab)
  (61 :latin-small-letter-q :latin-capital-letter-q)
  (62 :latin-small-letter-w :latin-capital-letter-w)
  (63 :latin-small-letter-e :latin-capital-letter-e)
  (64 :latin-small-letter-r :latin-capital-letter-r)
  (65 :latin-small-letter-t :latin-capital-letter-t)
  (66 :latin-small-letter-y :latin-capital-letter-y)
  (67 :latin-small-letter-u :latin-capital-letter-u)
  (68 :latin-small-letter-i :latin-capital-letter-i)
  (69 :latin-small-letter-o :latin-capital-letter-o)
  (70 :latin-small-letter-p :latin-capital-letter-p)
  (71 :left-square-bracket :left-curly-bracket)
  (72 :right-square-bracket :right-curly-bracket)
  (73 :delete :delete)
  (75 :f27 :f27)
  (76 :up :f28)
  (77 :f29 :f29)
  (79 :f17 :f17)
  (80 :f18 :f18)
  (83 :left-control :left-control)
  (84 :latin-small-letter-a :latin-capital-letter-a)
  (85 :latin-small-letter-s :latin-capital-letter-s)
  (86 :latin-small-letter-d :latin-capital-letter-d)
  (87 :latin-small-letter-f :latin-capital-letter-f)
  (88 :latin-small-letter-g :latin-capital-letter-g)
  (89 :latin-small-letter-h :latin-capital-letter-h)
  (90 :latin-small-letter-j :latin-capital-letter-j)
  (91 :latin-small-letter-k :latin-capital-letter-k)
  (92 :latin-small-letter-l :latin-capital-letter-l)
  (93 :semicolon :colon)
  (94 :apostrophe :quotation-mark)
  (95 :reverse-solidus :vertical-line)
  (96 :return :return)
  (98 :left :f30)
  (99 :f31 :f31)
  (100 :right :f32)
  (102 :f19 :f19)
  (104 :f20 :f20)
  (106 :left-shift :left-shift)
  (107 :latin-small-letter-z :latin-capital-letter-z)
  (108 :latin-small-letter-x :latin-capital-letter-x)
  (109 :latin-small-letter-c :latin-capital-letter-c)
  (110 :latin-small-letter-v :latin-capital-letter-v)
  (111 :latin-small-letter-b :latin-capital-letter-b)
  (112 :latin-small-letter-n :latin-capital-letter-n)
  (113 :latin-small-letter-m :latin-capital-letter-m)
  (114 :comma :less-than-sign)
  (115 :full-stop :greater-than-sign)
  (116 :solidus :question-mark)
  (117 :right-shift :right-shift)
  (118 :linefeed :linefeed)
  (119 :f33 :f33)
  (120 :down :f34)
  (121 :f35 :f35)
  (126 :caps-lock :caps-lock)
  (127 :left-meta :left-meta)
  (128 :space :space)
  (129 :right-meta :right-meta))

#||
(display-define-keyboard-signature-form :sun-type-3 '(:keycode-offset 7) "EDVAC")
||#

(define-keyboard-signature :sun-type-3 (:vendor-name "X11/NeWS - Sun Microsystems Inc."
				        :keycode-offset 7)
  (8 :f11 :f11)
  (10 :f12 :f12)
  (12 :f1 :f1)
  (13 :f2 :f2)
  (14 :f10 :f10)
  (15 :f3 :f3)
  (16 :f11 :f11)
  (17 :f4 :f4)
  (18 :f12 :f12)
  (19 :f5 :f5)
  (21 :f6 :f6)
  (23 :f7 :f7)
  (24 :f8 :f8)
  (25 :f9 :f9)
  (28 :f21 :f21)
  (29 :f22 :f22)
  (30 :f23 :f23)
  (32 :f13 :f13)
  (33 :f14 :f14)
  (36 :escape :escape)
  (37 :digit-one :exclamation-point)
  (38 :digit-two :commercial-at)
  (39 :digit-three :number-sign)
  (40 :digit-four :dollar-sign)
  (41 :digit-five :percent-sign)
  (42 :digit-six :circumflex-accent)
  (43 :digit-seven :ampersand)
  (44 :digit-eight :asterisk)
  (45 :digit-nine :left-parenthesis)
  (46 :digit-zero :right-parenthesis)
  (47 :hyphen :low-line)
  (48 :equals-sign :plus-sign)
  (49 :grave-accent :tilde)
  (50 :backspace :backspace)
  (52 :f24 :f24)
  (53 :f25 :f25)
  (54 :f26 :f26)
  (56 :f15 :f15)
  (58 :f16 :f16)
  (60 :tab :tab)
  (61 :latin-small-letter-q :latin-capital-letter-q)
  (62 :latin-small-letter-w :latin-capital-letter-w)
  (63 :latin-small-letter-e :latin-capital-letter-e)
  (64 :latin-small-letter-r :latin-capital-letter-r)
  (65 :latin-small-letter-t :latin-capital-letter-t)
  (66 :latin-small-letter-y :latin-capital-letter-y)
  (67 :latin-small-letter-u :latin-capital-letter-u)
  (68 :latin-small-letter-i :latin-capital-letter-i)
  (69 :latin-small-letter-o :latin-capital-letter-o)
  (70 :latin-small-letter-p :latin-capital-letter-p)
  (71 :left-square-bracket :left-curly-bracket)
  (72 :right-square-bracket :right-curly-bracket)
  (73 :delete :delete)
  (75 :f27 :f27)
  (76 :f28 :f28)
  (77 :f29 :f29)
  (79 :f17 :f17)
  (80 :f18 :f18)
  (83 :left-control :left-control)
  (84 :latin-small-letter-a :latin-capital-letter-a)
  (85 :latin-small-letter-s :latin-capital-letter-s)
  (86 :latin-small-letter-d :latin-capital-letter-d)
  (87 :latin-small-letter-f :latin-capital-letter-f)
  (88 :latin-small-letter-g :latin-capital-letter-g)
  (89 :latin-small-letter-h :latin-capital-letter-h)
  (90 :latin-small-letter-j :latin-capital-letter-j)
  (91 :latin-small-letter-k :latin-capital-letter-k)
  (92 :latin-small-letter-l :latin-capital-letter-l)
  (93 :semicolon :colon)
  (94 :apostrophe :quotation-mark)
  (95 :reverse-solidus :vertical-line)
  (96 :return :return)
  (98 :f30 :f30)
  (99 :f31 :f31)
  (100 :f32 :f32)
  (102 :f19 :f19)
  (104 :f20 :f20)
  (106 :left-shift :left-shift)
  (107 :latin-small-letter-z :latin-capital-letter-z)
  (108 :latin-small-letter-x :latin-capital-letter-x)
  (109 :latin-small-letter-c :latin-capital-letter-c)
  (110 :latin-small-letter-v :latin-capital-letter-v)
  (111 :latin-small-letter-b :latin-capital-letter-b)
  (112 :latin-small-letter-n :latin-capital-letter-n)
  (113 :latin-small-letter-m :latin-capital-letter-m)
  (114 :comma :less-than-sign)
  (115 :full-stop :greater-than-sign)
  (116 :solidus :question-mark)
  (117 :right-shift :right-shift)
  (118 :linefeed :linefeed)
  (119 :f33 :f33)
  (120 :f34 :f34)
  (121 :f35 :f35)
  (126 :caps-lock :caps-lock)
  (127 :left-meta :left-meta)
  (128 :space :space)
  (129 :right-meta :right-meta))

(define-keyboard-mapping :sun-type-3 ()
  (:f1  #\Select #\Square)
  (:f2  #\Network #\Circle)
  (:f3  #\Function #\Triangle)
  (:f4  #\Suspend (:mode-lock :locking t))
  (:f5  #\Resume)
  (:f6  #\Abort)
  (:f7  :left-super)
  (:f8  :left-hyper)
  (:f9  #\Scroll #\Page)

  (:l1  #\Abort)				;F11
  (:l2  #\Keyboard:Redo)			;F12
  (:l3  )					;F13
  (:l4  #\Keyboard:Undo)			;F14
  (:l5  )					;F15
  (:l6  #\Keyboard:Copy)			;F16
  (:l7  )					;F17
  (:l8  #\Keyboard:Paste)			;F18
  (:l9  #\Keyboard:Find)			;F19
  (:l10 #\Keyboard:Cut)				;F20
    
  (:r1  #\Clear-Input #\Refresh)		;F21
  (:r2  #\Complete #\End)			;F22
  (:r3  #\Help)					;F23
  (:r4  )					;F24
  (:r5  )					;F25
  (:r6  )					;F26
  (:r7  #\Keyboard:Home)			;F27
  (:r8  #\Keyboard:Up)				;F28
  (:r9  #\Keyboard:Back-Scroll)			;F29
  (:r10 #\Keyboard:Left)			;F30
  (:r11 :right-symbol)				;F31
  (:r12 #\Keyboard:Right)			;F32
  (:r13 #\End)					;F33
  (:r14 #\Keyboard:Down)			;F34
  (:r15 #\Scroll)				;F35

  (:home  #\Keyboard:Home)
  (:up    #\Keyboard:Up)
  (:left  #\Keyboard:Left)
  (:right #\Keyboard:Right)
  (:down  #\Keyboard:Down)
  (:print #\Keyboard:Print) 
  (:undo  #\Keyboard:Undo)
  (:redo  #\Keyboard:Redo)
  (:find  #\Keyboard:Find)

  (:num-lock (:num-lock :locking t))

  (:left-alt :left-symbol)
  (:right-alt :right-symbol)

  (19 :right-symbol)				;ALT

  ;; These keys aren't really on the type 3 keyboard, but some buggy systems
  ;; Claim a type 4 keyboard is a type 3 keyboard, and the user will only
  ;; blame us if these keys come out wrong.
  (118 #\Help)					;HELP
  (67  :right-super)				;COMPOSE
  (13  :right-hyper)				;ALT GRAPH
  (7   #\Clear-Input #\Refresh)			;F10
  (9   #\Complete #\End)			;F11
  (11  #\Help)					;F12
  )

;;;; Sun type 4 keyboard 

#||
(display-define-keyboard-signature-form :sun-type-4 '(:keycode-offset 7) "UNIVAC")
||#

(define-keyboard-signature :sun-type-4 (:vendor-name "MIT X Consortium" :keycode-offset 7)
  (8 :f11 :f11)
  (10 :f12 :f12)
  (12 :f1 :f1)
  (13 :f2 :f2)
  (14 :f10 :f10)
  (15 :f3 :f3)
  (16 :f11 :f11)
  (17 :f4 :f4)
  (18 :f12 :f12)
  (19 :f5 :f5)
  (21 :f6 :f6)
  (23 :f7 :f7)
  (24 :f8 :f8)
  (25 :f9 :f9)
  (26 :break :break)
  (28 :f21 :pause)
  (29 :f22 :f22)
  (30 :f23 :f23)
  (32 :f13 :f13)
  (33 :f14 :f14)
  (36 :escape :escape)
  (37 :digit-one :exclamation-point)
  (38 :digit-two :commercial-at)
  (39 :digit-three :number-sign)
  (40 :digit-four :dollar-sign)
  (41 :digit-five :percent-sign)
  (42 :digit-six :circumflex-accent)
  (43 :digit-seven :ampersand)
  (44 :digit-eight :asterisk)
  (45 :digit-nine :left-parenthesis)
  (46 :digit-zero :right-parenthesis)
  (47 :hyphen :low-line)
  (48 :equals-sign :plus-sign)
  (49 :grave-accent :tilde)
  (50 :backspace :backspace)
  (52 :f24 :keypad-equals-sign)
  (53 :f25 :keypad-division-sign)
  (54 :f26 :keypad-multiplication-sign)
  (56 :f15 :f15)
  (57 0 :keypad-decimal-point)
  (58 :f16 :f16)
  (60 :tab :tab)
  (61 :latin-small-letter-q :latin-capital-letter-q)
  (62 :latin-small-letter-w :latin-capital-letter-w)
  (63 :latin-small-letter-e :latin-capital-letter-e)
  (64 :latin-small-letter-r :latin-capital-letter-r)
  (65 :latin-small-letter-t :latin-capital-letter-t)
  (66 :latin-small-letter-y :latin-capital-letter-y)
  (67 :latin-small-letter-u :latin-capital-letter-u)
  (68 :latin-small-letter-i :latin-capital-letter-i)
  (69 :latin-small-letter-o :latin-capital-letter-o)
  (70 :latin-small-letter-p :latin-capital-letter-p)
  (71 :left-square-bracket :left-curly-bracket)
  (72 :right-square-bracket :right-curly-bracket)
  (73 :delete :delete)
  (75 :f27 :keypad-digit-seven)
  (76 :up :keypad-digit-eight)
  (77 :f29 :keypad-digit-nine)
  (78 0 :keypad-minus-sign)
  (79 :f17 :f17)
  (80 :f18 :f18)
  (83 :left-control :left-control)
  (84 :latin-small-letter-a :latin-capital-letter-a)
  (85 :latin-small-letter-s :latin-capital-letter-s)
  (86 :latin-small-letter-d :latin-capital-letter-d)
  (87 :latin-small-letter-f :latin-capital-letter-f)
  (88 :latin-small-letter-g :latin-capital-letter-g)
  (89 :latin-small-letter-h :latin-capital-letter-h)
  (90 :latin-small-letter-j :latin-capital-letter-j)
  (91 :latin-small-letter-k :latin-capital-letter-k)
  (92 :latin-small-letter-l :latin-capital-letter-l)
  (93 :semicolon :colon)
  (94 :apostrophe :quotation-mark)
  (95 :reverse-solidus :vertical-line)
  (96 :return :return)
  (97 0 :keypad-enter)
  (98 :left :keypad-digit-four)
  (99 :f31 :keypad-digit-five)
  (100 :right :keypad-digit-six)
  (101 0 :keypad-digit-zero)
  (102 :f19 :f19)
  (104 :f20 :f20)
  (105 0 :num-lock)
  (106 :left-shift :left-shift)
  (107 :latin-small-letter-z :latin-capital-letter-z)
  (108 :latin-small-letter-x :latin-capital-letter-x)
  (109 :latin-small-letter-c :latin-capital-letter-c)
  (110 :latin-small-letter-v :latin-capital-letter-v)
  (111 :latin-small-letter-b :latin-capital-letter-b)
  (112 :latin-small-letter-n :latin-capital-letter-n)
  (113 :latin-small-letter-m :latin-capital-letter-m)
  (114 :comma :less-than-sign)
  (115 :full-stop :greater-than-sign)
  (116 :solidus :question-mark)
  (117 :right-shift :right-shift)
  (118 :linefeed :linefeed)
  (119 :f33 :keypad-digit-one)
  (120 :down :keypad-digit-two)
  (121 :f35 :keypad-digit-three)
  (125 :help :help)
  (126 :caps-lock :caps-lock)
  (127 :left-meta :left-meta)
  (128 :space :space)
  (129 :right-meta :right-meta))

#||
(display-define-keyboard-signature-form :sun-type-4 '(:keycode-offset 7) "MARK-I")
||#

(define-keyboard-signature :sun-type-4 (:vendor-name "X11/NeWS - Sun Microsystems Inc."
                                        :keycode-offset 7)
  (8 :f11 :f11)
  (10 :f12 :f12)
  (12 :f1 :f1)
  (13 :f2 :f2)
  (14 :f10 :f10)
  (15 :f3 :f3)
  (16 :f11 :f11)
  (17 :f4 :f4)
  (18 :f12 :f12)
  (19 :f5 :f5)
  (20 :right-alt :right-alt)
  (21 :f6 :f6)
  (23 :f7 :f7)
  (24 :f8 :f8)
  (25 :f9 :f9)
  (26 :left-alt :left-alt)
  (28 :f21 :f21)
  (29 :f22 :f22)
  (30 :f23 :f23)
  (32 :f13 :f13)
  (33 :f14 :f14)
  (36 :escape :escape)
  (37 :digit-one :exclamation-point)
  (38 :digit-two :commercial-at)
  (39 :digit-three :number-sign)
  (40 :digit-four :dollar-sign)
  (41 :digit-five :percent-sign)
  (42 :digit-six :circumflex-accent)
  (43 :digit-seven :ampersand)
  (44 :digit-eight :asterisk)
  (45 :digit-nine :left-parenthesis)
  (46 :digit-zero :right-parenthesis)
  (47 :hyphen :low-line)
  (48 :equals-sign :plus-sign)
  (49 :grave-accent :tilde)
  (50 :backspace :backspace)
  (52 :f24 :keypad-equals-sign)
  (53 :f25 :keypad-division-sign)
  (54 :f26 :keypad-multiplication-sign)
  (56 :f15 :f15)
  (57 :delete :keypad-decimal-point)
  (58 :f16 :f16)
  (60 :tab :tab)
  (61 :latin-small-letter-q :latin-capital-letter-q)
  (62 :latin-small-letter-w :latin-capital-letter-w)
  (63 :latin-small-letter-e :latin-capital-letter-e)
  (64 :latin-small-letter-r :latin-capital-letter-r)
  (65 :latin-small-letter-t :latin-capital-letter-t)
  (66 :latin-small-letter-y :latin-capital-letter-y)
  (67 :latin-small-letter-u :latin-capital-letter-u)
  (68 :latin-small-letter-i :latin-capital-letter-i)
  (69 :latin-small-letter-o :latin-capital-letter-o)
  (70 :latin-small-letter-p :latin-capital-letter-p)
  (71 :left-square-bracket :left-curly-bracket)
  (72 :right-square-bracket :right-curly-bracket)
  (73 :delete :delete)
  (74 :multi-key-character-preface :multi-key-character-preface)
  (75 :f27 :keypad-digit-seven)
  (76 :f28 :keypad-digit-eight)
  (77 :f29 :keypad-digit-nine)
  (78 :keypad-minus-sign :keypad-minus-sign)
  (79 :f17 :f17)
  (80 :f18 :f18)
  (83 :left-control :left-control)
  (84 :latin-small-letter-a :latin-capital-letter-a)
  (85 :latin-small-letter-s :latin-capital-letter-s)
  (86 :latin-small-letter-d :latin-capital-letter-d)
  (87 :latin-small-letter-f :latin-capital-letter-f)
  (88 :latin-small-letter-g :latin-capital-letter-g)
  (89 :latin-small-letter-h :latin-capital-letter-h)
  (90 :latin-small-letter-j :latin-capital-letter-j)
  (91 :latin-small-letter-k :latin-capital-letter-k)
  (92 :latin-small-letter-l :latin-capital-letter-l)
  (93 :semicolon :colon)
  (94 :apostrophe :quotation-mark)
  (95 :reverse-solidus :vertical-line)
  (96 :return :return)
  (97 :keypad-enter :keypad-enter)
  (98 :f30 :keypad-digit-four)
  (99 :f31 :keypad-digit-five)
  (100 :f32 :keypad-digit-six)
  (101 :insert :keypad-digit-zero)
  (102 :f19 :f19)
  (104 :f20 :f20)
  (105 :num-lock :num-lock)
  (106 :left-shift :left-shift)
  (107 :latin-small-letter-z :latin-capital-letter-z)
  (108 :latin-small-letter-x :latin-capital-letter-x)
  (109 :latin-small-letter-c :latin-capital-letter-c)
  (110 :latin-small-letter-v :latin-capital-letter-v)
  (111 :latin-small-letter-b :latin-capital-letter-b)
  (112 :latin-small-letter-n :latin-capital-letter-n)
  (113 :latin-small-letter-m :latin-capital-letter-m)
  (114 :comma :less-than-sign)
  (115 :full-stop :greater-than-sign)
  (116 :solidus :question-mark)
  (117 :right-shift :right-shift)
  (118 :linefeed :linefeed)
  (119 :f33 :keypad-digit-one)
  (120 :f34 :keypad-digit-two)
  (121 :f35 :keypad-digit-three)
  (125 :help :help)
  (126 :caps-lock :caps-lock)
  (127 :left-meta :left-meta)
  (128 :space :space)
  (129 :right-meta :right-meta)
  (132 :keypad-plus-sign :keypad-plus-sign))

(define-keyboard-mapping :sun-type-4 (:leds ((1 :caps-lock)
					     (2 :mode-lock)
					     (3 :scroll-lock)
					     (4 :num-lock)))
  (:f1  #\Select #\Square)
  (:f2  #\Network #\Circle)
  (:f3  #\Function #\Triangle)
  (:f4  #\Suspend (:mode-lock :locking t))
  (:f5  #\Resume)
  (:f6  #\Abort)
  (:f7  :left-super)
  (:f8  :left-hyper)
  (:f9  #\Scroll #\Page)
  (7	#\Clear-Input #\Refresh)		;F10
  (9    #\Complete #\End)			;F11
  (11   #\Help)					;F12

  (1    #\Abort)				;L1
  (3    #\Keyboard:Redo)			;L2
  (:l3  )					;F13
  (:l4  #\Keyboard:Undo)			;F14
  (:l5  )					;F15
  (:l6  #\Keyboard:Copy)			;F16
  (:l7  )					;F17
  (:l8  #\Keyboard:Paste)			;F18
  (:l9  #\Keyboard:Find)			;F19
  (:l10 #\Keyboard:Cut)				;F20
    
  (:r1  #\Suspend)				;F21
  (:r2  #\Keyboard:Print)			;F22
  (:r3  (:scroll-lock :locking t))		;F23
  (:r4  )					;F24
  (:r5  )					;F25
  (:r6  )					;F26
  (:r7  #\Keyboard:Home)			;F27
  (:r8  #\Keyboard:Up)				;F28
  (:r9  #\Keyboard:Back-Scroll)			;F29
  (:r10 #\Keyboard:Left)			;F30
  (:r11 :right-symbol)				;F31
  (:r12 #\Keyboard:Right)			;F32
  (:r13 #\End)					;F33
  (:r14 #\Keyboard:Down)			;F34
  (:r15 #\Scroll)				;F35

  (:home  #\Keyboard:Home)
  (:up    #\Keyboard:Up)
  (:left  #\Keyboard:Left)
  (:right #\Keyboard:Right)
  (:down  #\Keyboard:Down)
  (:print #\Keyboard:Print) 
  (:undo  #\Keyboard:Undo)
  (:redo  #\Keyboard:Redo)
  (:find  #\Keyboard:Find)

  (:num-lock (:num-lock :locking t))

  (:left-alt :left-symbol)
  (:right-alt :right-symbol)

  (118 #\Help)					;HELP
  (19 :left-symbol)				;ALT
  (67 :right-super)				;COMPOSE
  (13 :right-hyper)				;ALT GRAPH
  )

#||
(display-define-keyboard-signature-form :sgi-iris '(:keycode-offset 0) "ZOOM")
||#

(define-keyboard-signature :sgi-iris (:vendor-name "Silicon Graphics Inc."
				      :keycode-offset 0)
  (8 :left-control :left-control)
  (9 :caps-lock :caps-lock)
  (10 :right-shift :right-shift)
  (11 :left-shift :left-shift)
  (12 :escape :escape)
  (13 :digit-one :exclamation-point)
  (14 :tab :tab)
  (15 :latin-small-letter-q :latin-capital-letter-q)
  (16 :latin-small-letter-a :latin-capital-letter-a)
  (17 :latin-small-letter-s :latin-capital-letter-s)
  (19 :digit-two :commercial-at)
  (20 :digit-three :number-sign)
  (21 :latin-small-letter-w :latin-capital-letter-w)
  (22 :latin-small-letter-e :latin-capital-letter-e)
  (23 :latin-small-letter-d :latin-capital-letter-d)
  (24 :latin-small-letter-f :latin-capital-letter-f)
  (25 :latin-small-letter-z :latin-capital-letter-z)
  (26 :latin-small-letter-x :latin-capital-letter-x)
  (27 :digit-four :dollar-sign)
  (28 :digit-five :percent-sign)
  (29 :latin-small-letter-r :latin-capital-letter-r)
  (30 :latin-small-letter-t :latin-capital-letter-t)
  (31 :latin-small-letter-g :latin-capital-letter-g)
  (32 :latin-small-letter-h :latin-capital-letter-h)
  (33 :latin-small-letter-c :latin-capital-letter-c)
  (34 :latin-small-letter-v :latin-capital-letter-v)
  (35 :digit-six :circumflex-accent)
  (36 :digit-seven :ampersand)
  (37 :latin-small-letter-y :latin-capital-letter-y)
  (38 :latin-small-letter-u :latin-capital-letter-u)
  (39 :latin-small-letter-j :latin-capital-letter-j)
  (40 :latin-small-letter-k :latin-capital-letter-k)
  (41 :latin-small-letter-b :latin-capital-letter-b)
  (42 :latin-small-letter-n :latin-capital-letter-n)
  (43 :digit-eight :asterisk)
  (44 :digit-nine :left-parenthesis)
  (45 :latin-small-letter-i :latin-capital-letter-i)
  (46 :latin-small-letter-o :latin-capital-letter-o)
  (47 :latin-small-letter-l :latin-capital-letter-l)
  (48 :semicolon :colon)
  (49 :latin-small-letter-m :latin-capital-letter-m)
  (50 :comma :less-than-sign)
  (51 :digit-zero :right-parenthesis)
  (52 :hyphen :low-line)
  (53 :latin-small-letter-p :latin-capital-letter-p)
  (54 :left-square-bracket :left-curly-bracket)
  (55 :apostrophe :quotation-mark)
  (56 :return :return)
  (57 :full-stop :greater-than-sign)
  (58 :solidus :question-mark)
  (59 :equals-sign :plus-sign)
  (60 :grave-accent :tilde)
  (61 :right-square-bracket :right-curly-bracket)
  (62 :reverse-solidus :vertical-line)
  (63 :keypad-digit-one :end)
  (64 :keypad-digit-zero :insert)
  (66 :backspace :backspace)
  (67 :delete :delete)
  (68 :keypad-digit-four :left)
  (69 :keypad-digit-two :down)
  (70 :keypad-digit-three :next)
  (71 :keypad-decimal-point :delete)
  (72 :keypad-digit-seven :home)
  (73 :keypad-digit-eight :up)
  (74 :keypad-digit-five :keypad-digit-five)
  (75 :keypad-digit-six :right)
  (78 :left :left)
  (79 :down :down)
  (80 :keypad-digit-nine :prior)
  (81 :keypad-minus-sign :keypad-minus-sign)
  (85 :right :right)
  (86 :up :up)
  (87 :keypad-enter :keypad-enter)
  (88 :space :space)
  (148 :left-alt :left-alt)
  (149 :right-alt :right-alt)
  (150 :right-control :right-control)
  (151 :f1 :f1)
  (152 :f2 :f2)
  (153 :f3 :f3)
  (154 :f4 :f4)
  (155 :f5 :f5)
  (156 :f6 :f6)
  (157 :f7 :f7)
  (158 :f8 :f8)
  (159 :f9 :f9)
  (160 :f10 :f10)
  (161 :f11 :f11)
  (162 :f12 :f12)
  (163 :print :print)
  (164 65300 65300)
  (165 :pause :pause)
  (166 :insert :insert)
  (167 :home :home)
  (168 :prior :prior)
  (169 :end :end)
  (170 :next :next)
  (171 :num-lock :num-lock)
  (172 :keypad-division-sign :keypad-division-sign)
  (173 :keypad-multiplication-sign :keypad-multiplication-sign)
  (174 :keypad-plus-sign :keypad-plus-sign))

(define-keyboard-mapping :sgi-iris (:leds ((1 :caps-lock)
					   (2 :mode-lock)
					   (3 :scroll-lock)
					   (4 :num-lock)))
  (:f1  #\Select #\Square)
  (:f2  #\Network #\Circle)
  (:f3  #\Function #\Triangle)
  (:f4  #\Suspend (:mode-lock :locking t))
  (:f5  #\Resume)
  (:f6  #\Abort)
  (:f7  :left-super)
  (:f8  :left-hyper)
  (:f9  #\Scroll #\Page)
  (:f10	#\Clear-Input #\Refresh)
  (:f11 #\Complete #\End)
  (:f12 #\Help)

  (:keypad-decimal-point       #\Rubout)
  (:keypad-digit-one           #\End)
  (:keypad-digit-two           #\Keyboard:Down)
  (:keypad-digit-three         #\Scroll)
  (:keypad-digit-four          #\Keyboard:Left)
  (:keypad-digit-five          :right-symbol)
  (:keypad-digit-six           #\Keyboard:Right)
  (:keypad-digit-seven         #\Keyboard:Home)
  (:keypad-digit-eight         #\Keyboard:Up)
  (:keypad-digit-nine          #\Keyboard:Back-Scroll)
  (:keypad-division-sign       #\Keyboard:Paste)
  (:keypad-multiplication-sign #\Keyboard:Cut)
  (:keypad-minus-sign          #\Keyboard:Copy)

  (:home     #\Keyboard:Home)
  (:up       #\Keyboard:Up)
  (:left     #\Keyboard:Left)
  (:right    #\Keyboard:Right)
  (:down     #\Keyboard:Down)
  (:print    #\Keyboard:Print)
  (:next     #\Scroll)
  (:prior    #\Keyboard:Back-Scroll)
  (:pause    #\Suspend)

  (:num-lock (:num-lock :locking t))
  (164 (:scroll-lock :locking t))

  (:left-alt :left-meta)
  (:right-alt :right-meta)

  )

#||
(display-define-keyboard-signature-form :ncd-n-101 nil "Pane")
||#

;; Note the kludge name.  There's also a definition with the (older),
;; less-kludgy name, which is left in place for now.
(define-keyboard-signature :ncd-n-101 (:keycode-offset 0 :vendor-name
                                       "DECWINDOWS (Compatibility String) Network Computing Devices Inc."
                                       )
  (8 :escape :escape)
  (13 :tab :tab)
  (14 :grave-accent :tilde)
  (15 :f2 :f2)
  (16 :f1 :f1)
  (17 :caps-lock :caps-lock)
  (18 :left-shift :left-shift)
  (20 :left-control :left-control)
  (21 :latin-small-letter-q :latin-capital-letter-q)
  (22 :digit-one :exclamation-point)
  (23 :f3 :f3)
  (25 :left-alt :left-alt)
  (26 :latin-small-letter-z :latin-capital-letter-z)
  (27 :latin-small-letter-s :latin-capital-letter-s)
  (28 :latin-small-letter-a :latin-capital-letter-a)
  (29 :latin-small-letter-w :latin-capital-letter-w)
  (30 :digit-two :commercial-at)
  (31 :f4 :f4)
  (33 :latin-small-letter-c :latin-capital-letter-c)
  (34 :latin-small-letter-x :latin-capital-letter-x)
  (35 :latin-small-letter-d :latin-capital-letter-d)
  (36 :latin-small-letter-e :latin-capital-letter-e)
  (37 :digit-four :dollar-sign)
  (38 :digit-three :number-sign)
  (39 :f5 :f5)
  (41 :space :space)
  (42 :latin-small-letter-v :latin-capital-letter-v)
  (43 :latin-small-letter-f :latin-capital-letter-f)
  (44 :latin-small-letter-t :latin-capital-letter-t)
  (45 :latin-small-letter-r :latin-capital-letter-r)
  (46 :digit-five :percent-sign)
  (47 :f6 :f6)
  (49 :latin-small-letter-n :latin-capital-letter-n)
  (50 :latin-small-letter-b :latin-capital-letter-b)
  (51 :latin-small-letter-h :latin-capital-letter-h)
  (52 :latin-small-letter-g :latin-capital-letter-g)
  (53 :latin-small-letter-y :latin-capital-letter-y)
  (54 :digit-six :circumflex-accent)
  (55 :f7 :f7)
  (57 :right-alt :right-alt)
  (58 :latin-small-letter-m :latin-capital-letter-m)
  (59 :latin-small-letter-j :latin-capital-letter-j)
  (60 :latin-small-letter-u :latin-capital-letter-u)
  (61 :digit-seven :ampersand)
  (62 :digit-eight :asterisk)
  (63 :f8 :f8)
  (65 :comma :less-than-sign)
  (66 :latin-small-letter-k :latin-capital-letter-k)
  (67 :latin-small-letter-i :latin-capital-letter-i)
  (68 :latin-small-letter-o :latin-capital-letter-o)
  (69 :digit-zero :right-parenthesis)
  (70 :digit-nine :left-parenthesis)
  (71 :f9 :f9)
  (73 :full-stop :greater-than-sign)
  (74 :solidus :question-mark)
  (75 :latin-small-letter-l :latin-capital-letter-l)
  (76 :semicolon :colon)
  (77 :latin-small-letter-p :latin-capital-letter-p)
  (78 :hyphen :low-line)
  (79 :f10 :f10)
  (82 :apostrophe :quotation-mark)
  (84 :left-square-bracket :left-curly-bracket)
  (85 :equals-sign :plus-sign)
  (86 :f11 :f11)
  (87 :linefeed :linefeed)
  (88 :right-control :right-control)
  (89 :right-shift :right-shift)
  (90 :return :return)
  (91 :right-square-bracket :right-curly-bracket)
  (92 :reverse-solidus :vertical-line)
  (94 :f12 :f12)
  (95 :break :break)
  (96 :down :down)
  (97 :left :left)
  (99 :up :up)
  (100 :delete :delete)
  (101 :end :end)
  (102 :backspace :backspace)
  (103 :insert :insert)
  (105 :keypad-digit-one :keypad-digit-one)
  (106 :right :right)
  (107 :keypad-digit-four :keypad-digit-four)
  (108 :keypad-digit-seven :keypad-digit-seven)
  (109 :next :next)
  (110 :home :home)
  (111 :prior :prior)
  (112 :keypad-digit-zero :keypad-digit-zero)
  (113 :keypad-decimal-point :keypad-decimal-point)
  (114 :keypad-digit-two :keypad-digit-two)
  (115 :keypad-digit-five :keypad-digit-five)
  (116 :keypad-digit-six :keypad-digit-six)
  (117 :keypad-digit-eight :keypad-digit-eight)
  (118 :num-lock :num-lock)
  (119 :keypad-division-sign :keypad-division-sign)
  (121 :keypad-enter :keypad-enter)
  (122 :keypad-digit-three :keypad-digit-three)
  (124 :keypad-plus-sign :keypad-plus-sign)
  (125 :keypad-digit-nine :keypad-digit-nine)
  (126 :keypad-multiplication-sign :keypad-multiplication-sign)
  (132 :keypad-minus-sign :keypad-minus-sign))

(define-keyboard-signature :ncd-n-101 (:vendor-name "Network Computing Devices Inc."
				 :keycode-offset 0)
  (8 :escape :escape)
  (13 :tab :tab)
  (14 :grave-accent :tilde)
  (15 :f2 :f2)
  (16 :f1 :f1)
  (17 :caps-lock :caps-lock)
  (18 :left-shift :left-shift)
  (20 :left-control :left-control)
  (21 :latin-small-letter-q :latin-capital-letter-q)
  (22 :digit-one :exclamation-point)
  (23 :f3 :f3)
  (25 :left-alt :left-alt)
  (26 :latin-small-letter-z :latin-capital-letter-z)
  (27 :latin-small-letter-s :latin-capital-letter-s)
  (28 :latin-small-letter-a :latin-capital-letter-a)
  (29 :latin-small-letter-w :latin-capital-letter-w)
  (30 :digit-two :commercial-at)
  (31 :f4 :f4)
  (33 :latin-small-letter-c :latin-capital-letter-c)
  (34 :latin-small-letter-x :latin-capital-letter-x)
  (35 :latin-small-letter-d :latin-capital-letter-d)
  (36 :latin-small-letter-e :latin-capital-letter-e)
  (37 :digit-four :dollar-sign)
  (38 :digit-three :number-sign)
  (39 :f5 :f5)
  (41 :space :space)
  (42 :latin-small-letter-v :latin-capital-letter-v)
  (43 :latin-small-letter-f :latin-capital-letter-f)
  (44 :latin-small-letter-t :latin-capital-letter-t)
  (45 :latin-small-letter-r :latin-capital-letter-r)
  (46 :digit-five :percent-sign)
  (47 :f6 :f6)
  (49 :latin-small-letter-n :latin-capital-letter-n)
  (50 :latin-small-letter-b :latin-capital-letter-b)
  (51 :latin-small-letter-h :latin-capital-letter-h)
  (52 :latin-small-letter-g :latin-capital-letter-g)
  (53 :latin-small-letter-y :latin-capital-letter-y)
  (54 :digit-six :circumflex-accent)
  (55 :f7 :f7)
  (57 :right-alt :right-alt)
  (58 :latin-small-letter-m :latin-capital-letter-m)
  (59 :latin-small-letter-j :latin-capital-letter-j)
  (60 :latin-small-letter-u :latin-capital-letter-u)
  (61 :digit-seven :ampersand)
  (62 :digit-eight :asterisk)
  (63 :f8 :f8)
  (65 :comma :less-than-sign)
  (66 :latin-small-letter-k :latin-capital-letter-k)
  (67 :latin-small-letter-i :latin-capital-letter-i)
  (68 :latin-small-letter-o :latin-capital-letter-o)
  (69 :digit-zero :right-parenthesis)
  (70 :digit-nine :left-parenthesis)
  (71 :f9 :f9)
  (73 :full-stop :greater-than-sign)
  (74 :solidus :question-mark)
  (75 :latin-small-letter-l :latin-capital-letter-l)
  (76 :semicolon :colon)
  (77 :latin-small-letter-p :latin-capital-letter-p)
  (78 :hyphen :low-line)
  (79 :f10 :f10)
  (82 :apostrophe :quotation-mark)
  (84 :left-square-bracket :left-curly-bracket)
  (85 :equals-sign :plus-sign)
  (86 :f11 :f11)
  (87 :linefeed :linefeed)
  (88 :right-control :right-control)
  (89 :right-shift :right-shift)
  (90 :return :return)
  (91 :right-square-bracket :right-curly-bracket)
  (92 :reverse-solidus :vertical-line)
  (94 :f12 :f12)
  (95 :break :break)
  (96 :down :down)
  (97 :left :left)
  (99 :up :up)
  (100 :delete :delete)
  (101 :end :end)
  (102 :backspace :backspace)
  (103 :insert :insert)
  (105 :keypad-digit-one :keypad-digit-one)
  (106 :right :right)
  (107 :keypad-digit-four :keypad-digit-four)
  (108 :keypad-digit-seven :keypad-digit-seven)
  (109 :next :next)
  (110 :home :home)
  (111 :prior :prior)
  (112 :keypad-digit-zero :keypad-digit-zero)
  (113 :keypad-decimal-point :keypad-decimal-point)
  (114 :keypad-digit-two :keypad-digit-two)
  (115 :keypad-digit-five :keypad-digit-five)
  (116 :keypad-digit-six :keypad-digit-six)
  (117 :keypad-digit-eight :keypad-digit-eight)
  (118 :num-lock :num-lock)
  (119 :keypad-division-sign :keypad-division-sign)
  (121 :keypad-enter :keypad-enter)
  (122 :keypad-digit-three :keypad-digit-three)
  (124 :keypad-plus-sign :keypad-plus-sign)
  (125 :keypad-digit-nine :keypad-digit-nine)
  (126 :keypad-multiplication-sign :keypad-multiplication-sign)
  (132 :keypad-minus-sign :keypad-minus-sign))

(define-keyboard-mapping :ncd-n-101 (:leds ((1 :mode-lock)
					    (2 :caps-lock)
					    (3 :num-lock)))
  (:f1  #\Select #\Square)
  (:f2  #\Network #\Circle)
  (:f3  #\Function #\Triangle)
  (:f4  #\Suspend (:mode-lock :locking t))
  (:f5  #\Resume)
  (:f6  #\Abort)
  (:f7  :left-super)
  (:f8  :left-hyper)
  (:f9  #\Scroll #\Page)
  (:f10	#\Clear-Input #\Refresh)
  (:f11 #\Complete #\End)
  (:f12 #\Help)

  (:keypad-decimal-point       #\Rubout)
  (:keypad-digit-one           #\End)
  (:keypad-digit-two           #\Keyboard:Down)
  (:keypad-digit-three         #\Scroll)
  (:keypad-digit-four          #\Keyboard:Left)
  (:keypad-digit-five          :right-symbol)
  (:keypad-digit-six           #\Keyboard:Right)
  (:keypad-digit-seven         #\Keyboard:Home)
  (:keypad-digit-eight         #\Keyboard:Up)
  (:keypad-digit-nine          #\Keyboard:Back-Scroll)
  (:keypad-division-sign       #\Keyboard:Paste)
  (:keypad-multiplication-sign #\Keyboard:Cut)
  (:keypad-minus-sign          #\Keyboard:Copy)

  (:break    #\Suspend)
  (:home     #\Keyboard:Home)
  (:up       #\Keyboard:Up)
  (:left     #\Keyboard:Left)
  (:right    #\Keyboard:Right)
  (:down     #\Keyboard:Down)
  (:next     #\Scroll)
  (:prior    #\Keyboard:Back-Scroll)

  (:left-alt :left-meta)
  (:right-alt :right-meta)

  (:num-lock :num-lock)
  )

#||
(display-define-keyboard-signature-form :nds nil "Mullion")
||#

(define-keyboard-signature :nds (:keycode-offset 0 :vendor-name
                                          "Northwest Digital Systems")
  (7 :f1 :f1)
  (8 :escape :escape)
  (9 9 9)
  (10 10 10)
  (11 11 11)
  (12 12 12)
  (13 :tab :tab)
  (14 :grave-accent :tilde)
  (15 :f2 :f2)
  (16 16 16)
  (17 :left-control :left-control)
  (18 :left-shift :left-shift)
  (19 19 19)
  (20 :caps-lock :caps-lock)
  (21 :latin-small-letter-q :latin-capital-letter-q)
  (22 :digit-one :exclamation-point)
  (23 :f3 :f3)
  (24 24 24)
  (25 :left-alt :left-alt)
  (26 :latin-small-letter-z :latin-capital-letter-z)
  (27 :latin-small-letter-s :latin-capital-letter-s)
  (28 :latin-small-letter-a :latin-capital-letter-a)
  (29 :latin-small-letter-w :latin-capital-letter-w)
  (30 :digit-two :commercial-at)
  (31 :f4 :f4)
  (32 :space :space)
  (33 :latin-small-letter-c :latin-capital-letter-c)
  (34 :latin-small-letter-x :latin-capital-letter-x)
  (35 :latin-small-letter-d :latin-capital-letter-d)
  (36 :latin-small-letter-e :latin-capital-letter-e)
  (37 :digit-four :dollar-sign)
  (38 :digit-three :number-sign)
  (39 :f5 :f5)
  (40 :left-parenthesis :left-parenthesis)
  (41 :space :space)
  (42 :latin-small-letter-v :latin-capital-letter-v)
  (43 :latin-small-letter-f :latin-capital-letter-f)
  (44 :latin-small-letter-t :latin-capital-letter-t)
  (45 :latin-small-letter-r :latin-capital-letter-r)
  (46 :digit-five :percent-sign)
  (47 :f6 :f6)
  (48 :digit-zero :digit-zero)
  (49 :latin-small-letter-n :latin-capital-letter-n)
  (50 :latin-small-letter-b :latin-capital-letter-b)
  (51 :latin-small-letter-h :latin-capital-letter-h)
  (52 :latin-small-letter-g :latin-capital-letter-g)
  (53 :latin-small-letter-y :latin-capital-letter-y)
  (54 :digit-six :circumflex-accent)
  (55 :f7 :f7)
  (56 :digit-eight :digit-eight)
  (57 :right-alt :right-alt)
  (58 :latin-small-letter-m :latin-capital-letter-m)
  (59 :latin-small-letter-j :latin-capital-letter-j)
  (60 :latin-small-letter-u :latin-capital-letter-u)
  (61 :digit-seven :ampersand)
  (62 :digit-eight :asterisk)
  (63 :f8 :f8)
  (64 :commercial-at :commercial-at)
  (65 :comma :less-than-sign)
  (66 :latin-small-letter-k :latin-capital-letter-k)
  (67 :latin-small-letter-i :latin-capital-letter-i)
  (68 :latin-small-letter-o :latin-capital-letter-o)
  (69 :digit-zero :right-parenthesis)
  (70 :digit-nine :left-parenthesis)
  (71 :f9 :f9)
  (72 :latin-small-letter-h :latin-capital-letter-h)
  (73 :full-stop :greater-than-sign)
  (74 :solidus :question-mark)
  (75 :latin-small-letter-l :latin-capital-letter-l)
  (76 :semicolon :colon)
  (77 :latin-small-letter-p :latin-capital-letter-p)
  (78 :hyphen :low-line)
  (79 :f10 :f10)
  (80 :latin-small-letter-p :latin-capital-letter-p)
  (81 :latin-small-letter-q :latin-capital-letter-q)
  (82 :apostrophe :quotation-mark)
  (83 :latin-small-letter-s :latin-capital-letter-s)
  (84 :left-square-bracket :left-curly-bracket)
  (85 :equals-sign :plus-sign)
  (86 :f11 :f11)
  (87 :print :print)
  (88 :right-control :right-control)
  (89 :right-shift :right-shift)
  (90 :return :return)
  (91 :right-square-bracket :right-curly-bracket)
  (92 :reverse-solidus :vertical-line)
  (93 :right-square-bracket :right-square-bracket)
  (94 :f12 :f12)
  (95 :pause :pause)
  (96 :down :down)
  (97 :left :left)
  (98 :pause :pause)
  (99 :up :up)
  (100 :delete :delete)
  (101 :end :end)
  (102 :backspace :backspace)
  (103 :insert :insert)
  (104 :latin-small-letter-h :latin-small-letter-h)
  (105 :keypad-digit-one :keypad-digit-one)
  (106 :right :right)
  (107 :keypad-digit-four :keypad-digit-four)
  (108 :keypad-digit-seven :keypad-digit-seven)
  (109 :next :next)
  (110 :home :home)
  (111 :prior :prior)
  (112 :keypad-digit-zero :keypad-digit-zero)
  (113 :keypad-decimal-point :keypad-decimal-point)
  (114 :keypad-digit-two :keypad-digit-two)
  (115 :keypad-digit-five :keypad-digit-five)
  (116 :keypad-digit-six :keypad-digit-six)
  (117 :keypad-digit-eight :keypad-digit-eight)
  (118 :num-lock :num-lock)
  (119 :keypad-division-sign :keypad-division-sign)
  (120 :latin-small-letter-x :latin-small-letter-x)
  (121 :keypad-enter :keypad-enter)
  (122 :keypad-digit-three :keypad-digit-three)
  (123 :left-curly-bracket :left-curly-bracket)
  (124 :keypad-plus-sign :keypad-plus-sign)
  (125 :keypad-digit-nine :keypad-digit-nine)
  (126 :keypad-multiplication-sign :keypad-multiplication-sign)
  (127 127 127)
  (128 128 128)
  (129 129 129)
  (130 130 130)
  (131 131 131)
  (132 :keypad-minus-sign :keypad-minus-sign))

(define-keyboard-mapping :nds (:leds ((1 :mode-lock)
				      (2 :caps-lock)
				      (3 :num-lock)))
  (:f1  #\Select #\Square)
  (:f2  #\Network #\Circle)
  (:f3  #\Function #\Triangle)
  (:f4  #\Suspend (:mode-lock :locking t))
  (:f5  #\Resume)
  (:f6  #\Abort)
  (:f7  :left-super)
  (:f8  :left-hyper)
  (:f9  #\Scroll #\Page)
  (:f10	#\Clear-Input #\Refresh)
  (:f11 #\Complete #\End)
  (:f12 #\Help)

  (:keypad-decimal-point       #\Rubout)
  (:keypad-digit-one           #\End)
  (:keypad-digit-two           #\Keyboard:Down)
  (:keypad-digit-three         #\Scroll)
  (:keypad-digit-four          #\Keyboard:Left)
  (:keypad-digit-five          :right-symbol)
  (:keypad-digit-six           #\Keyboard:Right)
  (:keypad-digit-seven         #\Keyboard:Home)
  (:keypad-digit-eight         #\Keyboard:Up)
  (:keypad-digit-nine          #\Keyboard:Back-Scroll)
  (:keypad-division-sign       #\Keyboard:Paste)
  (:keypad-multiplication-sign #\Keyboard:Cut)
  (:keypad-minus-sign          #\Keyboard:Copy)

  (:break    #\Suspend)
  (:home     #\Keyboard:Home)
  (:up       #\Keyboard:Up)
  (:left     #\Keyboard:Left)
  (:right    #\Keyboard:Right)
  (:down     #\Keyboard:Down)
  (:next     #\Scroll)
  (:prior    #\Keyboard:Back-Scroll)

  (:left-alt :left-meta)
  (:right-alt :right-super)

  (:num-lock :num-lock)
  (:insert #\Line)
  )

#||
(display-define-keyboard-signature-form :apple-extended '(:keycode-offset 8) "FOX")
||#

(define-keyboard-signature :apple-extended
			   (:keycode-offset 8 :vendor-name "MacX 1.2: Apple Computer, Inc.")
  (8 :latin-small-letter-a :latin-capital-letter-a)
  (9 :latin-small-letter-s :latin-capital-letter-s)
  (10 :latin-small-letter-d :latin-capital-letter-d)
  (11 :latin-small-letter-f :latin-capital-letter-f)
  (12 :latin-small-letter-h :latin-capital-letter-h)
  (13 :latin-small-letter-g :latin-capital-letter-g)
  (14 :latin-small-letter-z :latin-capital-letter-z)
  (15 :latin-small-letter-x :latin-capital-letter-x)
  (16 :latin-small-letter-c :latin-capital-letter-c)
  (17 :latin-small-letter-v :latin-capital-letter-v)
  (19 :latin-small-letter-b :latin-capital-letter-b)
  (20 :latin-small-letter-q :latin-capital-letter-q)
  (21 :latin-small-letter-w :latin-capital-letter-w)
  (22 :latin-small-letter-e :latin-capital-letter-e)
  (23 :latin-small-letter-r :latin-capital-letter-r)
  (24 :latin-small-letter-y :latin-capital-letter-y)
  (25 :latin-small-letter-t :latin-capital-letter-t)
  (26 :digit-one :exclamation-point)
  (27 :digit-two :commercial-at)
  (28 :digit-three :number-sign)
  (29 :digit-four :dollar-sign)
  (30 :digit-six :circumflex-accent)
  (31 :digit-five :percent-sign)
  (32 :equals-sign :plus-sign)
  (33 :digit-nine :left-parenthesis)
  (34 :digit-seven :ampersand)
  (35 :hyphen :low-line)
  (36 :digit-eight :asterisk)
  (37 :digit-zero :right-parenthesis)
  (38 :right-square-bracket :right-curly-bracket)
  (39 :latin-small-letter-o :latin-capital-letter-o)
  (40 :latin-small-letter-u :latin-capital-letter-u)
  (41 :left-square-bracket :left-curly-bracket)
  (42 :latin-small-letter-i :latin-capital-letter-i)
  (43 :latin-small-letter-p :latin-capital-letter-p)
  (44 :return :return)
  (45 :latin-small-letter-l :latin-capital-letter-l)
  (46 :latin-small-letter-j :latin-capital-letter-j)
  (47 :apostrophe :quotation-mark)
  (48 :latin-small-letter-k :latin-capital-letter-k)
  (49 :semicolon :colon)
  (50 :reverse-solidus :vertical-line)
  (51 :comma :less-than-sign)
  (52 :solidus :question-mark)
  (53 :latin-small-letter-n :latin-capital-letter-n)
  (54 :latin-small-letter-m :latin-capital-letter-m)
  (55 :full-stop :greater-than-sign)
  (56 :tab :tab)
  (57 :space :space)
  (58 :grave-accent :tilde)
  (59 :delete :delete)
  (60 :keypad-enter :keypad-enter)
  (61 :escape :escape)
  (63 :left-control :left-control)
  (64 :left-shift :left-shift)
  (65 :caps-lock :caps-lock)
  (66 :left-meta :left-meta)
  (67 :left-control :left-control)
  (73 :keypad-decimal-point :keypad-decimal-point)
  (74 :right :asterisk)
  (75 :keypad-multiplication-sign :keypad-multiplication-sign)
  (77 :keypad-plus-sign :keypad-plus-sign)
  (78 :left :plus-sign)
  (79 :clear :clear)
  (80 :down :equals-sign)
  (83 :keypad-division-sign :keypad-division-sign)
  (84 :keypad-enter :keypad-enter)
  (85 :up :solidus)
  (86 :keypad-minus-sign :keypad-minus-sign)
  (89 :keypad-equals-sign :keypad-equals-sign)
  (90 :keypad-digit-zero :keypad-digit-zero)
  (91 :keypad-digit-one :keypad-digit-one)
  (92 :keypad-digit-two :keypad-digit-two)
  (93 :keypad-digit-three :keypad-digit-three)
  (94 :keypad-digit-four :keypad-digit-four)
  (95 :keypad-digit-five :keypad-digit-five)
  (96 :keypad-digit-six :keypad-digit-six)
  (97 :keypad-digit-seven :keypad-digit-seven)
  (99 :keypad-digit-eight :keypad-digit-eight)
  (100 :keypad-digit-nine :keypad-digit-nine)
  (104 :f5 :f5)
  (105 :f6 :f6)
  (106 :f7 :f7)
  (107 :f3 :f3)
  (108 :f8 :f8)
  (109 :f9 :f9)
  (111 :f11 :f11)
  (113 :f13 :print)
  (115 :f14 :pause)
  (117 :f10 :f10)
  (119 :f12 :f12)
  (121 :f15 :pause)
  (122 :help :insert)
  (123 :home :home)
  (124 :prior :prior)
  (125 :select :select)
  (126 :f4 :f4)
  (127 :end :end)
  (128 :f2 :f2)
  (129 :next :next)
  (130 :f1 :f1)
  (131 :left :left)
  (132 :right :right)
  (133 :down :down)
  (134 :up :up)
  (136 :no-break-space :no-break-space)
  (137 :inverted-exclamation-mark :inverted-exclamation-mark)
  (138 :cent-sign :cent-sign)
  (139 :pound-sign :pound-sign)
  (140 :currency-sign :currency-sign)
  (141 :yen-sign :yen-sign)
  (142 :broken-vertical-bar :broken-vertical-bar)
  (143 :paragraph-sign :paragraph-sign)
  (144 :diaeresis :diaeresis)
  (145 :copyright-sign :copyright-sign)
  (146 :feminine-ordinal-indicator :feminine-ordinal-indicator)
  (147 :left-angle-quotation-mark :left-angle-quotation-mark)
  (148 :not-sign :not-sign)
  (149 173 173)
  (150 :registered-trade-mark-sign :registered-trade-mark-sign)
  (151 :macron :macron)
  (152 :latin-small-letter-a-with-grave-accent :latin-capital-letter-a-with-grave-accent)
  (153 :latin-small-letter-a-with-acute-accent :latin-capital-letter-a-with-acute-accent)
  (154 :latin-small-letter-a-with-circumflex-accent
   :latin-capital-letter-a-with-circumflex-accent)
  (155 :latin-small-letter-a-with-tilde :latin-capital-letter-a-with-tilde)
  (156 :latin-small-letter-a-with-diaeresis :latin-capital-letter-a-with-diaeresis)
  (157 :latin-small-letter-a-with-ring-above :latin-capital-letter-a-with-ring-above)
  (158 :latin-small-diphthong-ae :latin-capital-diphthong-ae)
  (159 :latin-small-letter-c-with-cedilla :latin-capital-letter-c-with-cedilla)
  (160 :latin-small-letter-e-with-grave-accent :latin-capital-letter-e-with-grave-accent)
  (161 :latin-small-letter-e-with-acute-accent :latin-capital-letter-e-with-acute-accent)
  (162 :latin-small-letter-e-with-circumflex-accent
   :latin-capital-letter-e-with-circumflex-accent)
  (163 :latin-small-letter-e-with-diaeresis :latin-capital-letter-e-with-diaeresis)
  (164 :latin-small-letter-i-with-grave-accent :latin-capital-letter-i-with-grave-accent)
  (165 :latin-small-letter-i-with-acute-accent :latin-capital-letter-i-with-acute-accent)
  (166 :latin-small-letter-i-with-circumflex-accent
   :latin-capital-letter-i-with-circumflex-accent)
  (167 :latin-small-letter-i-with-diaeresis :latin-capital-letter-i-with-diaeresis)
  (168 :icelandic-small-letter-eth :icelandic-capital-letter-eth)
  (169 :latin-small-letter-n-with-tilde :latin-capital-letter-n-with-tilde)
  (170 :latin-small-letter-o-with-grave-accent :latin-capital-letter-o-with-grave-accent)
  (171 :latin-small-letter-o-with-acute-accent :latin-capital-letter-o-with-acute-accent)
  (172 :latin-small-letter-o-with-circumflex-accent
   :latin-capital-letter-o-with-circumflex-accent)
  (173 :latin-small-letter-o-with-tilde :latin-capital-letter-o-with-tilde)
  (174 :latin-small-letter-o-with-diaeresis :latin-capital-letter-o-with-diaeresis)
  (175 :division-sign :multiplication-sign)
  (176 :latin-small-letter-o-with-oblique-stroke :latin-capital-letter-o-with-oblique-stroke)
  (177 :latin-small-letter-u-with-grave-accent :latin-capital-letter-u-with-grave-accent)
  (178 :latin-small-letter-u-with-acute-accent :latin-capital-letter-u-with-acute-accent)
  (179 :latin-small-letter-u-with-circumflex-accent
   :latin-capital-letter-u-with-circumflex-accent)
  (180 :latin-small-letter-u-with-diaeresis :latin-capital-letter-u-with-diaeresis)
  (181 :latin-small-letter-y-with-acute-accent :latin-capital-letter-y-with-acute-accent)
  (182 :icelandic-small-letter-thorn :icelandic-capital-letter-thorn)
  (183 :latin-small-letter-y-with-diaeresis :german-small-letter-sharp-s)
  (184 :f16 :f16)
  (185 :f17 :f17)
  (186 :f18 :f18)
  (187 :f19 :f19)
  (188 :f20 :f20)
  (189 :f21 :f21)
  (190 :f22 :f22)
  (191 :f23 :f23)
  (192 :f24 :f24)
  (193 :f25 :f25)
  (194 :f26 :f26)
  (195 :f27 :f27)
  (196 :f28 :f28)
  (197 :f29 :f29)
  (198 :f30 :f30)
  (199 :f31 :f31)
  (200 :f32 :f32)
  (201 :f33 :f33)
  (202 :f34 :f34)
  (203 :f35 :f35)
  (204 268500736 268500736)
  (205 :insert :insert)
  (206 :find :find)
  (207 :menu :menu)
  (208 :cancel :cancel)
  (209 :multi-key-character-preface :multi-key-character-preface)
  (210 :backspace :backspace)
  (211 :begin :begin)
  (212 :kanji :kanji)
  (213 :degree-sign :degree-sign)
  (214 :plus-minus-sign :plus-minus-sign)
  (215 :superscript-two :superscript-two)
  (216 :superscript-three :superscript-three)
  (217 :acute-accent :acute-accent)
  (218 :micro-sign :micro-sign)
  (219 :pilcrow-sign :pilcrow-sign)
  (220 :middle-dot :middle-dot)
  (221 :cedilla :cedilla)
  (222 :superscript-one :superscript-one)
  (223 :masculine-ordinal-indicator :masculine-ordinal-indicator)
  (224 :right-angle-quotation-mark :right-angle-quotation-mark)
  (225 :vulgar-fraction-one-quarter :vulgar-fraction-one-quarter)
  (226 :vulgar-fraction-one-half :vulgar-fraction-one-half)
  (227 :vulgar-fraction-three-quarters :vulgar-fraction-three-quarters)
  (228 :inverted-question-mark :inverted-question-mark))


;;; DEC LK401 AA Keyboard (AXP standard keyboard)

#||
(display-define-keyboard-signature-form :DEC-0SF/1 '(:keycode-offset 0) "eta")
||#

(define-keyboard-signature :DEC-LK401-AA
			   (:vendor-name "DECWINDOWS Digital Equipment Corporation DEC OSF/1"
			    :keycode-offset 0)
  (86 :f1 :f1)
  (87 :f2 :f2)
  (88 :f3 :f3)
  (89 :f4 :f4)
  (90 :f5 :f5)
  (100 :f6 :f6)
  (101 :f7 :f7)
  (102 :f8 :f8)
  (103 :f9 :f9)
  (104 :f10 :f10)
  (113 :f11 :f11)
  (114 :f12 :f12)
  (115 :f13 :f13)
  (116 :f14 :f14)
  (124 :help :help)
  (125 :menu :menu)
  (128 :f17 :f17)
  (129 :f18 :f18)
  (130 :f19 :f19)
  (131 :f20 :f20)
  (138 :find :find)
  (139 :insert :insert)
  (140 268500736 268500736)			; Remove
  (141 :select :select)
  (142 :prior :prior)
  (143 :next :next)
  (146 :keypad-digit-zero :keypad-digit-zero)
  (148 :keypad-decimal-point :keypad-decimal-point)
  (149 :keypad-enter :keypad-enter)
  (150 :keypad-digit-one :keypad-digit-one)
  (151 :keypad-digit-two :keypad-digit-two)
  (152 :keypad-digit-three :keypad-digit-three)
  (153 :keypad-digit-four :keypad-digit-four)
  (154 :keypad-digit-five :keypad-digit-five)
  (155 :keypad-digit-six :keypad-digit-six)
  (156 :keypad-separator :keypad-separator)
  (157 :keypad-digit-seven :keypad-digit-seven)
  (158 :keypad-digit-eight :keypad-digit-eight)
  (159 :keypad-digit-nine :keypad-digit-nine)
  (160 :keypad-minus-sign :keypad-minus-sign)
  (161 :keypad-f1 :keypad-f1)
  (162 :keypad-f2 :keypad-f2)
  (163 :keypad-f3 :keypad-f3)
  (164 :keypad-f4 :keypad-f4)
  (167 :left :left)
  (168 :right :right)
  (169 :down :down)
  (170 :up :up)
  (171 :right-shift :right-shift)
  (172 :left-alt :left-meta)
  (173 :multi-key-character-preface :multi-key-character-preface)  ; Right Compose Character
  (174 :left-shift :left-shift)
  (175 :left-control :left-control)
  (176 :caps-lock :caps-lock)
  (177 :multi-key-character-preface :multi-key-character-preface)  ; Left Compose Character
  (178 :right-alt :right-meta)
  (188 :delete :delete)
  (189 :return :return)
  (190 :tab :tab)
  (191 :grave-accent :tilde)
  (192 :digit-one :exclamation-point)
  (193 :latin-small-letter-q :latin-capital-letter-q)
  (194 :latin-small-letter-a :latin-capital-letter-a)
  (195 :latin-small-letter-z :latin-capital-letter-z)
  (197 :digit-two :commercial-at)
  (198 :latin-small-letter-w :latin-capital-letter-w)
  (199 :latin-small-letter-s :latin-capital-letter-s)
  (200 :latin-small-letter-x :latin-capital-letter-x)
  (201 :less-than-sign :greater-than-sign)
  (203 :digit-three :number-sign)
  (204 :latin-small-letter-e :latin-capital-letter-e)
  (205 :latin-small-letter-d :latin-capital-letter-d)
  (206 :latin-small-letter-c :latin-capital-letter-c)
  (208 :digit-four :dollar-sign)
  (209 :latin-small-letter-r :latin-capital-letter-r)
  (210 :latin-small-letter-f :latin-capital-letter-f)
  (211 :latin-small-letter-v :latin-capital-letter-v)
  (212 :space :space)
  (214 :digit-five :percent-sign)
  (215 :latin-small-letter-t :latin-capital-letter-t)
  (216 :latin-small-letter-g :latin-capital-letter-g)
  (217 :latin-small-letter-b :latin-capital-letter-b)
  (219 :digit-six :circumflex-accent)
  (220 :latin-small-letter-y :latin-capital-letter-y)
  (221 :latin-small-letter-h :latin-capital-letter-h)
  (222 :latin-small-letter-n :latin-capital-letter-n)
  (224 :digit-seven :ampersand)
  (225 :latin-small-letter-u :latin-capital-letter-u)
  (226 :latin-small-letter-j :latin-capital-letter-j)
  (227 :latin-small-letter-m :latin-capital-letter-m)
  (229 :digit-eight :asterisk)
  (230 :latin-small-letter-i :latin-capital-letter-i)
  (231 :latin-small-letter-k :latin-capital-letter-k)
  (232 :comma :less-than-sign)
  (234 :digit-nine :left-parenthesis)
  (235 :latin-small-letter-o :latin-capital-letter-o)
  (236 :latin-small-letter-l :latin-capital-letter-l)
  (237 :full-stop :greater-than-sign)
  (239 :digit-zero :right-parenthesis)
  (240 :latin-small-letter-p :latin-capital-letter-p)
  (242 :semicolon :colon)
  (243 :solidus :question-mark)
  (245 :equals-sign :plus-sign)
  (246 :right-square-bracket :right-curly-bracket)
  (247 :reverse-solidus :vertical-line)
  (249 :hyphen :low-line)
  (250 :left-square-bracket :left-curly-bracket)
  (251 :apostrophe :quotation-mark))

(define-keyboard-mapping :DEC-LK401-AA ()
     (:F1 #\Function #\Function #\Function #\Function)	  
     (:F2 #\Escape #\Escape #\ #\)	 
     ;:F3 unassigned, don't want to clash with OSF windows commands. 	  
     ;:F4 unassigned, ditto   
     ;:F5 unassigned, ditto  
     (:F6  #\Network #\Network #\Network #\Network)
     ;:F7 unassigned, don't want to clash with OSF windows commands.
     ;:F8 unassigned, ditto
     ;:F9 unassigned, ditto
     ;:F10 unassigned, ditto
     ;:F11 unassigned, ditto
     (:F12 #\Square #\Square #\Square #\Square)
     (:F13 #\Circle #\Circle #\Circle #\Circle)
     (:F14 #\Triangle #\Triangle #\Triangle #\Triangle)
     (:help #\Help #\Help #\Symbol-Help #\Symbol-Help)
     (:menu #\End #\End #\End #\End)				; Do
     (:F17 #\Clear-Input #\Clear-Input #\Clear-Input #\Clear-Input)
     (:F18 #\Suspend #\Suspend #\Suspend #\Suspend)
     (:F19 #\Resume #\Resume #\Resume #\Resume)
     (:F20 #\Abort #\Abort #\Abort #\Abort)
     (:find #\Complete #\Complete #\Complete #\Complete)
     (:insert #\Line #\Line #\Line #\Line)
     (140 #\Backspace #\Backspace #\Backspace #\Backspace)	; Remove
     (:select #\Select #\Select #\Select #\Select )
     (:prior #\Keyboard:Back-Scroll)
     (:next #\Scroll #\Scroll #\Scroll #\Scroll)
     (:keypad-digit-zero #\0 #\0 nil nil)
     (:keypad-decimal-point #\. #\. #\ #\)
     (:keypad-enter #\End #\Return #\End #\Return)
     (:keypad-digit-one #\1 #\1 nil nil)
     (:keypad-digit-two #\2 #\2 nil nil)
     (:keypad-digit-three #\3 #\3 nil nil)
     (:keypad-digit-four #\4 #\4 nil nil)
     (:keypad-digit-five #\5 #\5 nil nil)
     (:keypad-digit-six #\6 #\6 nil nil)
     (:keypad-separator #\, #\, #\ #\)
     (:keypad-digit-seven #\7 #\7 nil nil)
     (:keypad-digit-eight #\8 #\8 #\ #\)
     (:keypad-digit-nine #\9 #\9 nil nil)
     (:keypad-minus-sign #\- #\- #\ #\)
     (:keypad-f1 #\Refresh #\Refresh #\Refresh #\Refresh)
     (:keypad-f2 #\Page #\Page #\Page #\Page)
     (:keypad-f4 (:mode-lock :locking t) (:mode-lock :locking t) 
		 (:mode-lock :locking t) (:mode-lock :locking t))
     (:left #\Keyboard:Left)
     (:right #\Keyboard:Right)
     (:down #\Keyboard:Down)
     (:up #\Keyboard:Up)
     (:right-shift :right-shift)
     (:left-alt :left-meta)
     (173 :right-hyper)						; Right Compose Character
     (:left-shift :left-shift)
     (:left-control :left-control)
     (:caps-lock :caps-lock)
     (177 :left-super)						; Left Compose Character
     (:right-alt :right-symbol)
     )

(X-SCREEN:DEFINE-KEYBOARD-SIGNATURE
  :pcxal-aa
  (:KEYCODE-OFFSET 0 :VENDOR-NAME
		   "DECWINDOWS Digital Equipment Corporation Digital UNIX V3.2C")
  (8 :ESCAPE :ESCAPE :ESCAPE :ESCAPE)
  (9 :F1 :F1 :F1 :F1)
  (10 :F14 :F14 :F14 :F14)
  (11 :HELP :HELP :HELP :HELP)
  (12 :MENU :MENU :MENU :MENU)
  (13 :TAB :TAB :TAB :TAB)
  (14 :GRAVE-ACCENT :TILDE :GRAVE-ACCENT :TILDE)
  (15 :F2 :F2 :F2 :F2)
  (16 :F17 :F17 :F17 :F17)
  (17 :LEFT-CONTROL :LEFT-CONTROL :LEFT-CONTROL :LEFT-CONTROL)
  (18 :LEFT-SHIFT :LEFT-SHIFT :LEFT-SHIFT :LEFT-SHIFT)
  (19 :REVERSE-SOLIDUS :VERTICAL-LINE :REVERSE-SOLIDUS :REVERSE-SOLIDUS)
  (20 :CAPS-LOCK :CAPS-LOCK :CAPS-LOCK :CAPS-LOCK)
  (21 :LATIN-SMALL-LETTER-Q :LATIN-CAPITAL-LETTER-Q :LATIN-CAPITAL-LETTER-Q :LATIN-CAPITAL-LETTER-Q)
  (22 :DIGIT-ONE :EXCLAMATION-POINT :DIGIT-ONE :DIGIT-ONE)
  (23 :F3 :F3 :F3 :F3)
  (24 :F13 :F13 :F13 :F13)
  (25 :LEFT-ALT :LEFT-META :LEFT-ALT :LEFT-ALT)
  (26 :LATIN-SMALL-LETTER-Z :LATIN-CAPITAL-LETTER-Z :LATIN-CAPITAL-LETTER-Z :LATIN-CAPITAL-LETTER-Z)
  (27 :LATIN-SMALL-LETTER-S :LATIN-CAPITAL-LETTER-S :LATIN-CAPITAL-LETTER-S :LATIN-CAPITAL-LETTER-S)
  (28 :LATIN-SMALL-LETTER-A :LATIN-CAPITAL-LETTER-A :LATIN-CAPITAL-LETTER-A :LATIN-CAPITAL-LETTER-A)
  (29 :LATIN-SMALL-LETTER-W :LATIN-CAPITAL-LETTER-W :LATIN-CAPITAL-LETTER-W :LATIN-CAPITAL-LETTER-W)
  (30 :DIGIT-TWO :COMMERCIAL-AT :DIGIT-TWO :DIGIT-TWO)
  (31 :F4 :F4 :F4 :F4)
  (33 :LATIN-SMALL-LETTER-C :LATIN-CAPITAL-LETTER-C :LATIN-CAPITAL-LETTER-C :LATIN-CAPITAL-LETTER-C)
  (34 :LATIN-SMALL-LETTER-X :LATIN-CAPITAL-LETTER-X :LATIN-CAPITAL-LETTER-X :LATIN-CAPITAL-LETTER-X)
  (35 :LATIN-SMALL-LETTER-D :LATIN-CAPITAL-LETTER-D :LATIN-CAPITAL-LETTER-D :LATIN-CAPITAL-LETTER-D)
  (36 :LATIN-SMALL-LETTER-E :LATIN-CAPITAL-LETTER-E :LATIN-CAPITAL-LETTER-E :LATIN-CAPITAL-LETTER-E)
  (37 :DIGIT-FOUR :DOLLAR-SIGN :DIGIT-FOUR :DIGIT-FOUR)
  (38 :DIGIT-THREE :NUMBER-SIGN :DIGIT-THREE :DIGIT-THREE)
  (39 :F5 :F5 :F5 :F5)
  (40 :LEFT-META :LEFT-META :LEFT-META :LEFT-META)
  (41 :SPACE :SPACE :SPACE :SPACE)
  (42 :LATIN-SMALL-LETTER-V :LATIN-CAPITAL-LETTER-V :LATIN-CAPITAL-LETTER-V :LATIN-CAPITAL-LETTER-V)
  (43 :LATIN-SMALL-LETTER-F :LATIN-CAPITAL-LETTER-F :LATIN-CAPITAL-LETTER-F :LATIN-CAPITAL-LETTER-F)
  (44 :LATIN-SMALL-LETTER-T :LATIN-CAPITAL-LETTER-T :LATIN-CAPITAL-LETTER-T :LATIN-CAPITAL-LETTER-T)
  (45 :LATIN-SMALL-LETTER-R :LATIN-CAPITAL-LETTER-R :LATIN-CAPITAL-LETTER-R :LATIN-CAPITAL-LETTER-R)
  (46 :DIGIT-FIVE :PERCENT-SIGN :DIGIT-FIVE :DIGIT-FIVE)
  (47 :F6 :F6 :F6 :F6)
  (49 :LATIN-SMALL-LETTER-N :LATIN-CAPITAL-LETTER-N :LATIN-CAPITAL-LETTER-N :LATIN-CAPITAL-LETTER-N)
  (50 :LATIN-SMALL-LETTER-B :LATIN-CAPITAL-LETTER-B :LATIN-CAPITAL-LETTER-B :LATIN-CAPITAL-LETTER-B)
  (51 :LATIN-SMALL-LETTER-H :LATIN-CAPITAL-LETTER-H :LATIN-CAPITAL-LETTER-H :LATIN-CAPITAL-LETTER-H)
  (52 :LATIN-SMALL-LETTER-G :LATIN-CAPITAL-LETTER-G :LATIN-CAPITAL-LETTER-G :LATIN-CAPITAL-LETTER-G)
  (53 :LATIN-SMALL-LETTER-Y :LATIN-CAPITAL-LETTER-Y :LATIN-CAPITAL-LETTER-Y :LATIN-CAPITAL-LETTER-Y)
  (54 :DIGIT-SIX :CIRCUMFLEX-ACCENT :DIGIT-SIX :DIGIT-SIX)
  (55 :F7 :F7 :F7 :F7)
  (57 :RIGHT-ALT :RIGHT-META :RIGHT-ALT :RIGHT-ALT)
  (58 :LATIN-SMALL-LETTER-M :LATIN-CAPITAL-LETTER-M :LATIN-CAPITAL-LETTER-M :LATIN-CAPITAL-LETTER-M)
  (59 :LATIN-SMALL-LETTER-J :LATIN-CAPITAL-LETTER-J :LATIN-CAPITAL-LETTER-J :LATIN-CAPITAL-LETTER-J)
  (60 :LATIN-SMALL-LETTER-U :LATIN-CAPITAL-LETTER-U :LATIN-CAPITAL-LETTER-U :LATIN-CAPITAL-LETTER-U)
  (61 :DIGIT-SEVEN :AMPERSAND :DIGIT-SEVEN :DIGIT-SEVEN)
  (62 :DIGIT-EIGHT :ASTERISK :DIGIT-EIGHT :DIGIT-EIGHT)
  (63 :F8 :F8 :F8 :F8)
  (65 :COMMA :LESS-THAN-SIGN :COMMA :COMMA)
  (66 :LATIN-SMALL-LETTER-K :LATIN-CAPITAL-LETTER-K :LATIN-CAPITAL-LETTER-K :LATIN-CAPITAL-LETTER-K)
  (67 :LATIN-SMALL-LETTER-I :LATIN-CAPITAL-LETTER-I :LATIN-CAPITAL-LETTER-I :LATIN-CAPITAL-LETTER-I)
  (68 :LATIN-SMALL-LETTER-O :LATIN-CAPITAL-LETTER-O :LATIN-CAPITAL-LETTER-O :LATIN-CAPITAL-LETTER-O)
  (69 :DIGIT-ZERO :RIGHT-PARENTHESIS :DIGIT-ZERO :DIGIT-ZERO)
  (70 :DIGIT-NINE :LEFT-PARENTHESIS :DIGIT-NINE :DIGIT-NINE)
  (71 :F9 :F9 :F9 :F9)
  (73 :FULL-STOP :GREATER-THAN-SIGN :FULL-STOP :FULL-STOP)
  (74 :SOLIDUS :QUESTION-MARK :SOLIDUS :SOLIDUS)
  (75 :LATIN-SMALL-LETTER-L :LATIN-CAPITAL-LETTER-L :LATIN-CAPITAL-LETTER-L :LATIN-CAPITAL-LETTER-L)
  (76 :SEMICOLON :COLON :SEMICOLON :SEMICOLON)
  (77 :LATIN-SMALL-LETTER-P :LATIN-CAPITAL-LETTER-P :LATIN-CAPITAL-LETTER-P :LATIN-CAPITAL-LETTER-P)
  (78 :HYPHEN :LOW-LINE :HYPHEN :HYPHEN)
  (79 :F10 :F10 :F10 :F10)
  (81 :REVERSE-SOLIDUS :LOW-LINE :REVERSE-SOLIDUS :REVERSE-SOLIDUS)
  (82 :APOSTROPHE :QUOTATION-MARK :APOSTROPHE :APOSTROPHE)
  (83 :NUMBER-SIGN :TILDE :NUMBER-SIGN :NUMBER-SIGN)
  (84 :LEFT-SQUARE-BRACKET :LEFT-CURLY-BRACKET :LEFT-SQUARE-BRACKET :LEFT-SQUARE-BRACKET)
  (85 :EQUALS-SIGN :PLUS-SIGN :EQUALS-SIGN :EQUALS-SIGN)
  (86 :F11 :F11 :F11 :F11)
  (87 :PRINT 65301 :PRINT :PRINT)
  (88 :RIGHT-CONTROL :RIGHT-CONTROL :RIGHT-CONTROL :RIGHT-CONTROL)
  (89 :RIGHT-SHIFT :RIGHT-SHIFT :RIGHT-SHIFT :RIGHT-SHIFT)
  (90 :RETURN :RETURN :RETURN :RETURN)
  (91 :RIGHT-SQUARE-BRACKET :RIGHT-CURLY-BRACKET :RIGHT-SQUARE-BRACKET :RIGHT-SQUARE-BRACKET)
  (92 :REVERSE-SOLIDUS :VERTICAL-LINE :REVERSE-SOLIDUS :REVERSE-SOLIDUS)
  (93 :REVERSE-SOLIDUS :VERTICAL-LINE :REVERSE-SOLIDUS :REVERSE-SOLIDUS)
  (94 :F12 :F12 :F12 :F12)
  (95 65300 65300 65300 65300)
  (96 :DOWN :DOWN :DOWN :DOWN)
  (97 :LEFT :LEFT :LEFT :LEFT)
  (98 :PAUSE :BREAK :PAUSE :PAUSE)
  (99 :UP :UP :UP :UP)
  (100 :DELETE :DELETE :DELETE :DELETE)
  (101 :END :END :END :END)
  (102 :BACKSPACE :BACKSPACE :BACKSPACE :BACKSPACE)
  (103 :INSERT :INSERT :INSERT :INSERT)
  (105 65436 :KEYPAD-DIGIT-ONE 65436 65436)
  (106 :RIGHT :RIGHT :RIGHT :RIGHT)
  (107 65430 :KEYPAD-DIGIT-FOUR 65430 65430)
  (108 65429 :KEYPAD-DIGIT-SEVEN 65429 65429)
  (109 :NEXT :NEXT :NEXT :NEXT)
  (110 :HOME :HOME :HOME :HOME)
  (111 :PRIOR :PRIOR :PRIOR :PRIOR)
  (112 65438 :KEYPAD-DIGIT-ZERO 65438 65438)
  (113 65439 :KEYPAD-DECIMAL-POINT 65439 65439)
  (114 65433 :KEYPAD-DIGIT-TWO 65433 65433)
  (115 :KEYPAD-DIGIT-FIVE :KEYPAD-DIGIT-FIVE :KEYPAD-DIGIT-FIVE :KEYPAD-DIGIT-FIVE)
  (116 65432 :KEYPAD-DIGIT-SIX 65432 65432)
  (117 65431 :KEYPAD-DIGIT-EIGHT 65431 65431)
  (118 :NUM-LOCK :NUM-LOCK :NUM-LOCK :NUM-LOCK)
  (119 :KEYPAD-DIVISION-SIGN :KEYPAD-DIVISION-SIGN :KEYPAD-DIVISION-SIGN :KEYPAD-DIVISION-SIGN)
  (121 :KEYPAD-ENTER :KEYPAD-ENTER :KEYPAD-ENTER :KEYPAD-ENTER)
  (122 65435 :KEYPAD-DIGIT-THREE 65435 65435)
  (124 :KEYPAD-PLUS-SIGN :KEYPAD-PLUS-SIGN :KEYPAD-PLUS-SIGN :KEYPAD-PLUS-SIGN)
  (125 65434 :KEYPAD-DIGIT-NINE 65434 65434)
  (126 :KEYPAD-MULTIPLICATION-SIGN :KEYPAD-MULTIPLICATION-SIGN :KEYPAD-MULTIPLICATION-SIGN :KEYPAD-MULTIPLICATION-SIGN)
  (132 :KEYPAD-MINUS-SIGN :KEYPAD-MINUS-SIGN :KEYPAD-MINUS-SIGN :KEYPAD-MINUS-SIGN))

;#+vlm
(x-screen:define-keyboard-mapping :pcxal-aa
			 (:leds ((3 :caps-lock)
				 (4 :scroll-lock)
				 (5 :num-lock)))
  (:escape #\escape)

  (:f1  #\Select)
  (:f2  #\Function)
  (:f3  #\Network)
  (:f4  #\Escape)

  (:f5 #\refresh)
  (:f6 #\Square)
  (:f7  #\Circle)
  (:f8  #\Triangle)

  (:f9  #\Clear-Input)
;  (:F10 (:mode-lock :locking t))
  (:F11 #\Help)
  (:F12 #\backspace)

;  (:PRINT )
;  (:scroll-LOCK  (:mode-lock :locking t))
;  (:PAUSE #\Abort)

  (:left-alt :left-meta)
  (:right-alt :right-meta)
  (:caps-lock :caps-lock)
  (:backspace :delete)
D,#TD1PsT[Begin using 006 escapes](1 0 (NIL 0) (NIL :ITALIC NIL) "CPTFONTI");0  (:RIGHT-CONTROL :RIGHT-CONTROL :RIGHT-CONTROL :RIGHT-CONTROL)
1;0  (:RIGHT-SHIFT :RIGHT-SHIFT :RIGHT-SHIFT :RIGHT-SHIFT)


  (:INSERT #\help)
  (:HOME #\complete)
  (:PRIOR #\page)
  (:DELETE :delete)
  (:END #\end)
;  (:NEXT #\Line)   

  (:UP :left-symbol)
  (:LEFT :left-hyper)
  (:DOWN :left-super)
  (:RIGHT #\Line)

;  (:NUM-LOCK  (:mode-lock :locking nil))   ;IT IS BAD to make an LED key into mode lock
  (:KEYPAD-DIVISION-SIGN #\suspend)
  (:KEYPAD-MULTIPLICATION-SIGN #\resume)
  (:KEYPAD-MINUS-SIGN #\abort)
;  (:KEYPAD-PLUS-SIGN )
  (:KEYPAD-ENTER #\Scroll)

  (:KEYPAD-DECIMAL-POINT #\.)
  (:KEYPAD-DIGIT-ZERO #\0)
  (:KEYPAD-DIGIT-ONE #\1)
  (:KEYPAD-DIGIT-TWO #\2)
  (:KEYPAD-DIGIT-THREE #\3)
  (:KEYPAD-DIGIT-FOUR #\4)
  (:KEYPAD-DIGIT-FIVE #\5)
  (:KEYPAD-DIGIT-SIX #\6)
  (:KEYPAD-DIGIT-SEVEN #\7)
  (:KEYPAD-DIGIT-EIGHT #\8)
  (:KEYPAD-DIGIT-NINE #\9)
;  (:KEYPAD-DIGIT-SEVEN :right-symbol)
;  (:KEYPAD-DIGIT-EIGHT :right-hyper)
;  (:KEYPAD-DIGIT-NINE :right-super)

  )