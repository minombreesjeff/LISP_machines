;;; -*- Mode: LISP; Syntax: Common-lisp; Package: SYSTEM-APPLICATIONS; Base: 10; Lowercase: T -*-
;;;>
;;;> *****************************************************************************************
;;;> ** (c) Copyright 1998-1982 Symbolics, Inc.  All rights reserved.
;;;> ** Portions of font library Copyright (c) 1984 Bitstream, Inc.  All Rights Reserved.
;;;>
;;;>    The software, data, and information contained herein are proprietary to,
;;;> and comprise valuable trade secrets of, Symbolics, Inc., which intends 
;;;> to keep such software, data, and information confidential and to preserve them
;;;> as trade secrets.  They are given in confidence by Symbolics pursuant 
;;;> to a written license agreement, and may be used, copied, transmitted, and stored
;;;> only in accordance with the terms of such license.
;;;> 
;;;> Symbolics, Symbolics 3600, Symbolics 3675, Symbolics 3630, Symbolics 3640,
;;;> Symbolics 3645, Symbolics 3650, Symbolics 3653, Symbolics 3620, Symbolics 3610,
;;;> Zetalisp, Open Genera, Virtual Lisp Machine, VLM, Wheels, Dynamic Windows,
;;;> SmartStore, Semanticue, Frame-Up, Firewall, Document Examiner,
;;;> Delivery Document Examiner, "Your Next Step in Computing", Ivory, MacIvory,
;;;> MacIvory model 1, MacIvory model 2, MacIvory model 3, XL400, XL1200, XL1201,
;;;> Symbolics UX400S, Symbolics UX1200S, NXP1000, Symbolics C, Symbolics Pascal,
;;;> Symbolics Prolog, Symbolics Fortran, CLOE, CLOE Application Generator,
;;;> CLOE Developer, CLOE Runtime, Common Lisp Developer, Symbolics Concordia,
;;;> Joshua, Statice, and Minima are trademarks of Symbolics, Inc.
;;;> 
;;;> Symbolics 3670, Symbolics Common Lisp, Symbolics-Lisp, and Genera are registered
;;;> trademarks of Symbolics, Inc.
;;;>
;;;> GOVERNMENT PURPOSE RIGHTS LEGEND
;;;> 
;;;>      Contract No.: various
;;;>      Contractor Name: Symbolics, Inc.
;;;>      Contractor Address: c/o Ropes & Gray
;;;> 			 One International Place
;;;> 			 Boston, Massachusetts 02110-2624
;;;>      Expiration Date: 2/27/2018
;;;>      
;;;> The Government's rights to use, modify, reproduce, release, perform, display or
;;;> disclose this software are restricted by paragraph (b)(2) of the "Rights in
;;;> Noncommercial Computer Software and Noncommercial Computer Software Documentation"
;;;> contained in the above identified contracts.  No restrictions apply after the
;;;> expiration date shown above.  Any reproduction of the software or portions thereof
;;;> marked with this legend must also reproduce the markings.  Questions regarding
;;;> the Government's rights may be referred to the AS&T Contracts Office of the
;;;> National Reconnaissance Office, Chantilly, Virginia 20151-1715.
;;;> 
;;;>      Symbolics, Inc.
;;;>      c/o Ropes & Gray
;;;>      One International Place
;;;>      Boston, Massachusetts 02110-2624
;;;>      781-937-7655
;;;>
;;;> *****************************************************************************************
;;;>

;;;; Standard layouts -- perhaps move to device specific files.

;;; Class 1: 1 -- TK keyboard, 2 -- Kulp keyboard, 3 -- symbolics keyboard (LOCAL in u.l.),
;;;          4 -- symbolics keyboard (FUNCTION in u.l.), 5 -- low profile (l.c. legends).

(define-keyboard-layout :symbolics
  (:default-mapping-table si:kbd-new-table)
  (:legend-character-style '(:swiss nil nil))
  (:numeric-id #x00010004)
  (:row :top 0
	:keys
	((:legend "FUNCTION" :code #o60 :width 2)
	 (:legend "ESCAPE" :code #o120 :width 2)
	 (:legend "REFRESH" :code #o121 :width 2)
	 (:legend draw-square-legend :code #o122 :name "Square" :width 2)
	 (:legend draw-circle-legend :code #o123 :name "Circle" :width 2)
	 (:legend draw-triangle-legend :code #o124 :name "Triangle" :width 2)
	 (:legend "CLEAR INPUT" :code #o125 :width 2)
	 (:legend "SUSPEND" :code #o126 :width 2)
	 (:legend "RESUME" :code #o127 :width 2)
	 (:legend "ABORT" :code #o27 :width 2)))
  (:row :top 1
	:keys
	((:legend "NETWORK" :code #o50 :width 2)
	 (:legend ":" :code #o100)
	 (:legend ("!" "1") :code #o110)
	 (:legend ("@" "2") :code #o101)
	 (:legend ("#" "3") :code #o111)
	 (:legend ("$" "4") :code #o102)
	 (:legend ("%" "5") :code #o112)
	 (:legend ("^" "6") :code #o103)
	 (:legend ("&" "7") :code #o113)
	 (:legend ("*" "8") :code #o104)
	 (:legend ("(" "9") :code #o114)
	 (:legend (")" "0") :code #o105)
	 (:legend ("_" "-") :code #o115)
	 (:legend ("+" "=") :code #o106)
	 (:legend ("~" "`") :code #o116)
	 (:legend ("{" "\\") :code #o107)
	 (:legend ("}" "|") :code #o117)
	 (:legend "HELP" :code #o37 :width 2)))
  (:row :top 2
	:keys
	((:legend "LOCAL" :code #o0 :width 2 :inaccessible-if (local-key-inaccessible-p))
	 (:legend "TAB" :code #o70 :width 3/2)
	 (:legend "Q" :code #o71)
	 (:legend "W" :code #o61)
	 (:legend "E" :code #o72)
	 (:legend "R" :code #o62)
	 (:legend "T" :code #o73)
	 (:legend "Y" :code #o63)
	 (:legend "U" :code #o74)
	 (:legend "I" :code #o64)
	 (:legend "O" :code #o75)
	 (:legend "P" :code #o65)
	 (:legend ("[" "(") :code #o76)
	 (:legend ("]" ")") :code #o66)
	 (:legend ("BACK" "SPACE") :code #o77)
	 (:legend "PAGE" :code #o67 :width 3/2)
	 (:legend "COMPLETE" :code #o47 :width 2)))
  (:row :top 3
	:keys
	((:legend "SELECT" :code #o10 :width 2)
	 (:legend "RUB OUT" :code #o40 :width 7/4)
	 (:legend "A" :code #o51)
	 (:legend "S" :code #o41)
	 (:legend "D" :code #o52)
	 (:legend "F" :code #o42)
	 (:legend "G" :code #o53)
	 (:legend "H" :code #o43)
	 (:legend "J" :code #o54)
	 (:legend "K" :code #o44)
	 (:legend "L" :code #o55)
	 (:legend (":" ";") :code #o45)
	 (:legend ("\"" "'") :code #o56)
	 (:legend "RETURN" :code #o46 :width 2)
	 (:legend "LINE" :code #o57 :width 5/4)
	 (:legend "END" :code #o17 :width 2)))
  (:row :top 4
	:keys
	((:legend ("CAPS" "LOCK") :code #o1)
	 (:legend "SYMBOL" :code #o11 :name "Left Symbol" :width 5/4)
	 (:legend "SHIFT" :code #o30 :name "Left Shift" :width 2)
	 (:legend "Z" :code #o20)
	 (:legend "X" :code #o31)
	 (:legend "C" :code #o21)
	 (:legend "V" :code #o32)
	 (:legend "B" :code #o22)
	 (:legend "N" :code #o33)
	 (:legend "M" :code #o23)
	 (:legend ("<" ",") :code #o34)
	 (:legend (">" ".") :code #o24)
	 (:legend ("?" "/") :code #o35)
	 (:legend "SHIFT" :code #o25 :name "Right Shift" :width 2)
	 (:legend "SYMBOL" :code #o36 :name "Right Symbol" :width 5/4)
	 (:legend "REPEAT" :code #o26 :width 5/4)
	 (:legend ("MODE" "LOCK") :code #o7 :width 5/4)))
  (:row :top 5
	:keys
	((:legend "HYPER" :code #o2 :name "Left Hyper")
	 (:legend "SUPER" :code #o12 :name "Left Super")
	 (:legend "META" :code #o3 :name "Left Meta")
	 (:legend "CONTROL" :code #o13 :width 7/4 :name "Left Control")
	 (:legend nil :code #o14 :width 9 :name "Space")
	 (:legend "CONTROL" :code #o4 :width 7/4 :name "Right Control")
	 (:legend "META" :code #o15 :name "Right Meta")
	 (:legend "SUPER" :code #o5 :name "Right Super")
	 (:legend "HYPER" :code #o16 :name "Right Hyper")
	 (:legend "SCROLL" :code #o6 :width 3/2))))

(defparameter *symbolics-keyboard-shift-keys* '(#o12 #o30 #o1 #o3 #o13 #o25 #o15 #o4))
  
;;; This says whether the local key is assumed inactive.  Right now, the closest
;;; we can come is by whether we have an IO-Rev 6.
(defun local-key-inaccessible-p ()
  nil
  #+3600
  (dotimes (id (si:n-machine-id-proms))
    (destructuring-bind (ignore keyword &rest ignore)
	(let ((part-no (si:id-prom-field id :part-number)))
	  (assoc part-no si:*id-part-number-board-info*))
      (when (eq keyword :io)
	(return ( (si:id-prom-field id :manufactured-rev) 6)))))
  #+IMach
  (sys:system-case
    ((Embedded Domino) t)			;Domino's can't have Symbolics keyboards.
    (otherwise nil)))

(defun draw-regular-polygon-legend (nsides stream left top right bottom)
  (graphics:with-scan-conversion-mode (t :sketch t)
    (let ((size (min (* (- right left) 1/2)
		     (* (- bottom top) 1/2))))
      (graphics:draw-regular-polygon (/ (- (+ right left) size) 2)
				     (/ (+ (+ bottom top) size) 2)
				     (/ (+ (+ right left) size) 2)
				     (/ (+ (+ bottom top) size) 2)
				     nsides :handedness :right :stream stream))))

(defun draw-square-legend (stream left top right bottom)
  (draw-regular-polygon-legend 4 stream left top right bottom))

(defun draw-triangle-legend (stream left top right bottom)
  (draw-regular-polygon-legend 3 stream left top right bottom))

(defun draw-circle-legend (stream left top right bottom)
  (graphics:with-scan-conversion-mode (t :sketch t :center-circles t)
    (let ((size (min (* (- right left) 1/2)
		     (* (- bottom top) 1/2))))
      (graphics:draw-circle (/ (+ right left) 2) (/ (+ bottom top) 2) (/ size 2)
			    :stream stream))))

;;; (x-screen::x-console-make-keyboard-table-argument (first sys:*consoles*))

(defparameter
  *default-sun-type-3-keyboard-mapping-table*
  (sys:make-keyboard-table
    '(nil #\Abort nil #\Keyboard:Redo nil (#\Select #\Square #\Select #\Square)
      (#\Network #\Circle #\Network #\Circle) (#\Clear-Input #\Refresh #\Clear-Input #\Refresh)
      (#\Function #\Triangle #\Function #\Triangle) (#\Complete #\End #\Complete #\End)
      (#\Suspend (:mode-lock :locking t) #\Suspend (:mode-lock :locking t))
      (#\Help #\Help #\Symbol-Help #\Symbol-Help) #\Resume :right-hyper #\Abort nil
      :left-super :left-hyper (#\Scroll #\Page #\Scroll #\Page) :right-symbol nil
      (#\Clear-Input #\Refresh #\Clear-Input #\Refresh) (#\Complete #\End #\Complete #\End)
      (#\Help #\Help #\Symbol-Help #\Symbol-Help) nil nil #\Keyboard:Undo nil nil
      (#\Escape #\Escape #\ #\) (#\1 #\!) (#\2 #\@) (#\3 #\#) (#\4 #\$) (#\5 #\%) (#\6 #\^)
      (#\7 #\&) (#\8 #\* nil #\) (#\9 #\() (#\0 #\)) (#\- #\_ #\) (#\= #\+ #\ #\ä)
      (#\` #\~ #\) #\Back-Space nil nil nil nil nil nil nil #\Keyboard:Copy nil #\Tab
      (#\q #\Q #\) (#\w #\W #\) (#\e #\E #\ #\) (#\r #\R #\) (#\t #\T #\) (#\y #\Y #\)
      (#\u #\U #\) (#\i #\I #\) (#\o #\O #\) (#\p #\P #\ #\) (#\[ #\{) (#\] #\}) #\Rubout
      :right-super #\Keyboard:Home #\Keyboard:Up #\Keyboard:Back-Scroll nil nil
      #\Keyboard:Paste nil nil :left-control (#\a #\A nil #\) (#\s #\S) (#\d #\D nil #\ç)
      (#\f #\F) (#\g #\G #\ #\â) (#\h #\H #\) (#\j #\J #\) (#\k #\K #\) (#\l #\L #\ #\à)
      (#\; #\: nil #\å) (#\' #\" #\ ) (#\\ #\|) #\Return nil #\Keyboard:Left :right-symbol 
      #\Keyboard:Right nil #\Keyboard:Find nil #\Keyboard:Cut nil :left-shift (#\z #\Z)
      (#\x #\X) (#\c #\C) (#\v #\V) (#\b #\B nil #\) (#\n #\N) (#\m #\M) (#\, #\< #\)
      (#\. #\> #\) (#\/ #\? #\á) :right-shift #\Line #\End #\Keyboard:Down #\Scroll nil nil
      nil (#\Help #\Help #\Symbol-Help #\Symbol-Help) :caps-lock :left-meta #\Space
      :right-meta nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil)))

;;; The codes don't quite go in geographical order.  I don't know
;;; whether the keysyms file is messed up, or the keys are mislegened,
;;; or what.  Also, I'm not sure the keysyms are right for the L1 and R1 class keys.
;;; sunkeymap.c redefines the symbols to be different from keysymdef.h.  Symbolics/ANSI C
;;; takes the older definition.  Sun might be relying on getting the later.
(define-keyboard-layout :sun-type-3
  (:default-mapping-table *default-sun-type-3-keyboard-mapping-table*)
  (:numeric-id #x00040003)
  (:row :left 0 :top 0
	:keys ((:legend "L1" :code #x01 :keysym (255 200))
	       (:legend "L2" :code #x03 :keysym (255 201))))
  (:row :left 0 :top 1
	:keys ((:legend "L3" :code #x19 :keysym (255 202))
	       (:legend "L4" :code #x1A :keysym (255 203))))
  (:row :left 0 :top 2
	:keys ((:legend "L5" :code #x31 :keysym (255 204))
	       (:legend "L6" :code #x33 :keysym (255 205))))
  (:row :left 0 :top 3
	:keys ((:legend "L7" :code #x48 :keysym (255 206))
	       (:legend "L8" :code #x49 :keysym (255 207))))
  (:row :left 0 :top 4
	:keys ((:legend "L9" :code #x5F :keysym (255 208))
	       (:legend "L10" :code #x61 :keysym (255 209))))

  (:row :left 3 :top 0
	:keys ((:legend "F1" :code #x05 :keysym (255 190))
	       (:legend "F2" :code #x06 :keysym (255 191))
	       (:legend "F3" :code #x08 :keysym (255 192) :width 2)
	       (:legend "F4" :code #x0A :keysym (255 193) :width 2)
	       (:legend "F5" :code #x0C :keysym (255 194) :width 2)
	       (:legend "F6" :code #x0E :keysym (255 195) :width 2)
	       (:legend "F7" :code #x10 :keysym (255 196) :width 2)
	       (:legend "F8" :code #x11 :keysym (255 197))
	       (:legend "F9" :code #x12 :keysym (255 198))
	       (:legend ("Back" "Space") :code #x2B :keysym (255 008))))	;??

  (:row :left 3 :top 1
	:keys ((:legend "Esc" :code #x1D :keysym (255 027))
	       (:legend ("!" "1") :code #x1E :keysym ((000 049) (000 033)))
	       (:legend ("@" "2") :code #x1F :keysym ((000 050) (000 064)))
	       (:legend ("#" "3") :code #x20 :keysym ((000 051) (000 035)))
	       (:legend ("$" "4") :code #x21 :keysym ((000 052) (000 036)))
	       (:legend ("%" "5") :code #x22 :keysym ((000 053) (000 037)))
	       (:legend ("^" "6") :code #x23 :keysym ((000 054) (000 094)))
	       (:legend ("&" "7") :code #x24 :keysym ((000 055) (000 038)))
	       (:legend ("*" "8") :code #x25 :keysym ((000 056) (000 042)))
	       (:legend ("(" "9") :code #x26 :keysym ((000 057) (000 040)))
	       (:legend (")" "0") :code #x27 :keysym ((000 048) (000 041)))
	       (:legend ("_" "-") :code #x28 :keysym ((000 045) (000 095)))
	       (:legend ("+" "=") :code #x29 :keysym ((000 061) (000 043)))
	       (:legend ("|" "\\") :code #x58 :keysym ((000 092) (000 124)))	;??
	       (:legend ("~" "`") :code #x2A :keysym ((000 096) (000 126)))))	;??

  (:row :left 3 :top 2
	:keys ((:legend "Tab" :code #x35 :keysym (255 009) :width 3/2)
	       (:legend "Q" :code #x36 :keysym (000 081))
	       (:legend "W" :code #x37 :keysym (000 087))
	       (:legend "E" :code #x38 :keysym (000 069))
	       (:legend "R" :code #x39 :keysym (000 082))
	       (:legend "T" :code #x3A :keysym (000 084))
	       (:legend "Y" :code #x3B :keysym (000 089))
	       (:legend "U" :code #x3C :keysym (000 085))
	       (:legend "I" :code #x3D :keysym (000 073))
	       (:legend "O" :code #x3E :keysym (000 079))
	       (:legend "P" :code #x3F :keysym (000 080))
	       (:legend ("{" "[") :code #x40 :keysym ((000 091) (000 123)))
	       (:legend ("}" "]") :code #x41 :keysym ((000 093) (000 125)))
	       (:legend "Delete" :code #x42 :keysym (255 255) :width 3/2)))

  (:row :left 3 :top 3
	:keys ((:legend "Control" :code #x4C :keysym (255 227) :width 7/4)
	       (:legend "A" :code #x4D :keysym (000 065))
	       (:legend "S" :code #x4E :keysym (000 083))
	       (:legend "D" :code #x4F :keysym (000 068))
	       (:legend "F" :code #x50 :keysym (000 070))
	       (:legend "G" :code #x51 :keysym (000 071))
	       (:legend "H" :code #x52 :keysym (000 072))
	       (:legend "J" :code #x53 :keysym (000 074))
	       (:legend "K" :code #x54 :keysym (000 075))
	       (:legend "L" :code #x55 :keysym (000 076))
	       (:legend (":" ";") :code #x56 :keysym ((000 059) (000 058)))
	       (:legend ("\"" "'") :code #x57 :keysym ((000 039) (000 034)))
	       (:legend "Return" :code #x59 :keysym (255 013) :width 9/4)))

  (:row :left 3 :top 4
	:keys ((:legend "Shift" :code #x63 :keysym (255 225) :name "Left Shift" :width 5/2)
	       (:legend "Z" :code #x64 :keysym (000 090))
	       (:legend "X" :code #x65 :keysym (000 088))
	       (:legend "C" :code #x66 :keysym (000 067))
	       (:legend "V" :code #x67 :keysym (000 086))
	       (:legend "B" :code #x68 :keysym (000 066))
	       (:legend "N" :code #x69 :keysym (000 078))
	       (:legend "M" :code #x6A :keysym (000 077))
	       (:legend ("<" ",") :code #x6B :keysym ((000 044) (000 060)))
	       (:legend (">" ".") :code #x6C :keysym ((000 046) (000 062)))
	       (:legend ("?" "/") :code #x6D :keysym ((000 047) (000 063)))
	       (:legend "Shift" :code #x6E :keysym (255 226) :name "Right Shift" :width 3/2)
	       (:legend ("Line" "Feed") :code #x6F :keysym (255 010))))

  (:row :left 3 :top 5
	:keys ((:legend "Caps" :code #x77 :keysym (255 229) :width 3/2)
	       (:legend "Left" :code #x78 :keysym (255 231) :width 3/2)
	       (:legend nil :code #x79 :keysym (000 032) :name "Space" :width 9)
	       (:legend "Right" :code #x7A :keysym (255 232) :width 3/2)
	       (:legend "Alternate" :code #x13 :width 3/2)))	;??

  (:row :left 19. :top 0
	:keys ((:legend "R1" :code #x15 :keysym (255 210))
	       (:legend "R2" :code #x16 :keysym (255 211))
	       (:legend "R3" :code #x17 :keysym (255 212))))
  (:row :left 19. :top 1
	:keys ((:legend "R4" :code #x2D :keysym (255 213))
	       (:legend "R5" :code #x2E :keysym (255 214))
	       (:legend "R6" :code #x2F :keysym (255 215))))
  (:row :left 19. :top 2
	:keys ((:legend "R7" :code #x44 :keysym (255 216))
	       (:legend ("R8" "") :code #x45 :keysym ((255 082) (255 217)))
	       (:legend "R9" :code #x46 :keysym (255 218))))
  (:row :left 19. :top 3
	:keys ((:legend ("R10" "") :code #x5B :keysym ((255 081) (255 219)))
	       (:legend "R11" :code #x5C :keysym (255 220))
	       (:legend ("R12" "") :code #x5D :keysym ((255 083) (255 221)))))
  (:row :left 19. :top 4
	:keys ((:legend "R13" :code #x70 :keysym (255 222))
	       (:legend ("R14" "") :code #x71 :keysym ((255 084) (255 223)))
	       (:legend "R15" :code #x72 :keysym (255 224)))))

;;; (x-screen::x-console-make-keyboard-table-argument (first sys:*consoles*))

(defparameter
  *default-sun-type-4-keyboard-mapping-table*
  (sys:make-keyboard-table
    '(nil #\Abort nil #\Keyboard:Redo nil (#\Select #\Square #\Select #\Square)
      (#\Network #\Circle #\Network #\Circle) (#\Clear-Input #\Refresh #\Clear-Input #\Refresh)
      (#\Function #\Triangle #\Function #\Triangle) (#\Complete #\End #\Complete #\End)
      (#\Suspend (:mode-lock :locking t) #\Suspend (:mode-lock :locking t))
      (#\Help #\Help #\Symbol-Help #\Symbol-Help) #\Resume :right-hyper #\Abort nil
      :left-super :left-hyper (#\Scroll #\Page #\Scroll #\Page) :left-symbol nil #\Suspend
      #\Keyboard:Print
      ((:scroll-lock :locking t) (:scroll-lock :locking t) (:scroll-lock :locking t)
       (:scroll-lock :locking t))
      nil nil #\Keyboard:Undo nil nil (#\Escape #\Escape #\ #\) (#\1 #\!) (#\2 #\@) (#\3 #\#)
      (#\4 #\$) (#\5 #\%) (#\6 #\^) (#\7 #\&) (#\8 #\* nil #\) (#\9 #\() (#\0 #\))
      (#\- #\_ #\) (#\= #\+ #\ #\ä) (#\` #\~ #\) #\Back-Space nil nil nil nil nil nil nil
      #\Keyboard:Copy nil #\Tab (#\q #\Q #\) (#\w #\W #\) (#\e #\E #\ #\) (#\r #\R #\)
      (#\t #\T #\) (#\y #\Y #\) (#\u #\U #\) (#\i #\I #\) (#\o #\O #\) (#\p #\P #\ #\)
      (#\[ #\{) (#\] #\}) #\Rubout :right-super #\Keyboard:Home #\Keyboard:Up
      #\Keyboard:Back-Scroll nil nil #\Keyboard:Paste nil nil :left-control (#\a #\A nil #\)
      (#\s #\S) (#\d #\D nil #\ç) (#\f #\F) (#\g #\G #\ #\â) (#\h #\H #\) (#\j #\J #\)
      (#\k #\K #\) (#\l #\L #\ #\à) (#\; #\: nil #\å) (#\' #\" #\ ) (#\\ #\|) #\Return nil
      #\Keyboard:Left :right-symbol #\Keyboard:Right nil #\Keyboard:Find nil #\Keyboard:Cut
      ((:num-lock :locking t) (:num-lock :locking t) (:num-lock :locking t)
       (:num-lock :locking t))
      :left-shift (#\z #\Z) (#\x #\X) (#\c #\C) (#\v #\V) (#\b #\B nil #\) (#\n #\N) (#\m #\M)
      (#\, #\< #\) (#\. #\> #\) (#\/ #\? #\á) :right-shift #\Line #\End #\Keyboard:Down
      #\Scroll nil nil nil (#\Help #\Help #\Symbol-Help #\Symbol-Help) :caps-lock :left-meta
      #\Space :right-meta nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil)))

;;; Not a great amount of care has been given to the keysyms.
(define-keyboard-layout :sun-type-4
  (:default-mapping-table *default-sun-type-4-keyboard-mapping-table*)
  (:numeric-id #x00040004)
  (:row :left 0 :top 0
	:keys ((:legend ("Stop" "L1") :code #x01 :keysym ((255 105) (255 200)))
	       (:legend ("Again" "L2") :code #x03 :keysym ((255 102) (255 201)))))
  (:row :left 0 :top 1
	:keys ((:legend ("Props" "L3") :code #x19 :keysym (255 202))
	       (:legend ("Undo" "L4") :code #x1A :keysym ((255 101) (255 203)))))
  (:row :left 0 :top 2
	:keys ((:legend ("Front" "L5") :code #x31 :keysym (255 204))
	       (:legend ("Copy" "L6") :code #x33 :keysym (255 205))))
  (:row :left 0 :top 3
	:keys ((:legend ("Open" "L7") :code #x48 :keysym (255 206))
	       (:legend ("Paste" "L8") :code #x49 :keysym (255 207))))
  (:row :left 0 :top 4
	:keys ((:legend ("Find" "L9") :code #x5F :keysym ((255 104) (255 208)))
	       (:legend ("Cut" "L10") :code #x61 :keysym (255 209))))
  (:row :left 0 :top 5
	:keys ((:legend "Help" :code #x76 :keysym (255 106) :width 2)))

  (:row :left 3 :top 0
	:keys ((:legend "F1" :code #x05 :keysym (255 190))
	       (:legend "F2" :code #x06 :keysym (255 191))
	       (:legend "F3" :code #x08 :keysym (255 192))
	       (:legend "F4" :code #x0A :keysym (255 193))
	       (:legend "F5" :code #x0C :keysym (255 194))
	       (:legend "F6" :code #x0E :keysym (255 195))
	       (:legend "F7" :code #x10 :keysym (255 196))
	       (:legend "F8" :code #x11 :keysym (255 197))
	       (:legend "F9" :code #x12 :keysym (255 198))
	       (:legend "F10" :code #x07 :keysym (255 198))
	       (:legend "F11" :code #x09 :keysym (255 198))
	       (:legend "F12" :code #x0B :keysym (255 198))
	       (:legend ("|" "\\") :code #x58 :keysym ((000 092) (000 124)))
	       (:legend "Delete" :code #x42 :keysym (255 255) :width 2)))

  (:row :left 3 :top 1
	:keys ((:legend "Esc" :code #x1D :keysym (255 027))
	       (:legend ("!" "1") :code #x1E :keysym ((000 049) (000 033)))
	       (:legend ("@" "2") :code #x1F :keysym ((000 050) (000 064)))
	       (:legend ("#" "3") :code #x20 :keysym ((000 051) (000 035)))
	       (:legend ("$" "4") :code #x21 :keysym ((000 052) (000 036)))
	       (:legend ("%" "5") :code #x22 :keysym ((000 053) (000 037)))
	       (:legend ("^" "6") :code #x23 :keysym ((000 054) (000 094)))
	       (:legend ("&" "7") :code #x24 :keysym ((000 055) (000 038)))
	       (:legend ("*" "8") :code #x25 :keysym ((000 056) (000 042)))
	       (:legend ("(" "9") :code #x26 :keysym ((000 057) (000 040)))
	       (:legend (")" "0") :code #x27 :keysym ((000 048) (000 041)))
	       (:legend ("_" "-") :code #x28 :keysym ((000 045) (000 095)))
	       (:legend ("+" "=") :code #x29 :keysym ((000 061) (000 043)))
	       (:legend "Back Space" :code #x2B :keysym (255 008) :width 2)))

  (:row :left 3 :top 2
	:keys ((:legend "Tab" :code #x35 :keysym (255 009) :width 3/2)
	       (:legend "Q" :code #x36 :keysym (000 081))
	       (:legend "W" :code #x37 :keysym (000 087))
	       (:legend "E" :code #x38 :keysym (000 069))
	       (:legend "R" :code #x39 :keysym (000 082))
	       (:legend "T" :code #x3A :keysym (000 084))
	       (:legend "Y" :code #x3B :keysym (000 089))
	       (:legend "U" :code #x3C :keysym (000 085))
	       (:legend "I" :code #x3D :keysym (000 073))
	       (:legend "O" :code #x3E :keysym (000 079))
	       (:legend "P" :code #x3F :keysym (000 080))
	       (:legend ("{" "[") :code #x40 :keysym ((000 091) (000 123)))
	       (:legend ("}" "]") :code #x41 :keysym ((000 093) (000 125)))
	       (:legend "Return" :code #x59 :keysym (255 013) :width 3/2
			:l-shape-stub (1/4 1 3/2 2))))

  (:row :left 3 :top 3
	:keys ((:legend "Control" :code #x4C :keysym (255 227) :width 7/4)
	       (:legend "A" :code #x4D :keysym (000 065))
	       (:legend "S" :code #x4E :keysym (000 083))
	       (:legend "D" :code #x4F :keysym (000 068))
	       (:legend "F" :code #x50 :keysym (000 070))
	       (:legend "G" :code #x51 :keysym (000 071))
	       (:legend "H" :code #x52 :keysym (000 072))
	       (:legend "J" :code #x53 :keysym (000 074))
	       (:legend "K" :code #x54 :keysym (000 075))
	       (:legend "L" :code #x55 :keysym (000 076))
	       (:legend (":" ";") :code #x56 :keysym ((000 059) (000 058)))
	       (:legend ("\"" "'") :code #x57 :keysym ((000 039) (000 034)))
	       (:legend ("~" "`") :code #x2A :keysym ((000 096) (000 126)))))

  (:row :left 3 :top 4
	:keys ((:legend "Shift" :code #x63 :keysym (255 225) :name "Left Shift" :width 5/2)
	       (:legend "Z" :code #x64 :keysym (000 090))
	       (:legend "X" :code #x65 :keysym (000 088))
	       (:legend "C" :code #x66 :keysym (000 067))
	       (:legend "V" :code #x67 :keysym (000 086))
	       (:legend "B" :code #x68 :keysym (000 066))
	       (:legend "N" :code #x69 :keysym (000 078))
	       (:legend "M" :code #x6A :keysym (000 077))
	       (:legend ("<" ",") :code #x6B :keysym ((000 044) (000 060)))
	       (:legend (">" ".") :code #x6C :keysym ((000 046) (000 062)))
	       (:legend ("?" "/") :code #x6D :keysym ((000 047) (000 063)))
	       (:legend "Shift" :code #x6E :keysym (255 226) :name "Right Shift" :width 3/2)
	       (:legend ("Line" "Feed") :code #x6F :keysym (255 010))))

  (:row :left 3 :top 5
	:keys ((:legend ("Caps" "Lock") :code #x77 :keysym (255 229))
	       (:legend "Alt" :code #x13 :keysym (255 233))
	       (:legend "" :code #x78 :keysym (255 231))
	       (:legend nil :code #x79 :keysym (000 032) :name "Space" :width 9)
	       (:legend "" :code #x7A :keysym (255 232))
	       (:legend ("Com" "pose") :code #x43)
	       (:legend ("Alt" "Graph") :code #x0D :keysym (255 234))))

  (:row :left 19. :top 0
	:keys ((:legend ("Pause" "" "R1") :code #x15 :keysym (255 210))
	       (:legend ("PrSc" "" "R2") :code #x16 :keysym (255 211))
	       (:legend ("Scroll" "Lock" "Break" "R3") :code #x17 :keysym (255 212))
	       (:legend ("Num" "Lock" "") :code #x62 :keysym (255 127))))
  (:row :left 19. :top 1
	:keys ((:legend ("=" "" "R4") :code #x2D :keysym ((255 189) (255 213)))
	       (:legend ("/" "" "R5") :code #x2E :keysym ((255 175) (255 214)))
	       (:legend ("*" "" "R6") :code #x2F :keysym ((255 170) (255 215)))
	       (:legend ("-" "" "") :code #x47 :keysym (255 173))))
  (:row :left 19. :top 2
	:keys ((:legend ("7" "Home" "R7") :code #x44 :keysym ((255 183) (255 080) (255 216)))
	       (:legend ("8" "" "R8") :code #x45 :keysym ((255 184) (255 082) (255 217)))
	       (:legend ("9" "PgUp" "R9") :code #x46 :keysym ((255 185) (255 218)))
	       (:legend ("+" "") :code #x7D :keysym (255 171) :height 2)))
  (:row :left 19. :top 3
	:keys ((:legend ("4" "" "R10") :code #x5B :keysym ((255 180) (255 081) (255 219)))
	       (:legend ("5" "" "R11") :code #x5C :keysym ((255 181) (255 220)))
	       (:legend ("6" "" "R12") :code #x5D :keysym ((255 182) (255 083) (255 221)))))
  (:row :left 19. :top 4
	:keys ((:legend ("1" "End" "R13") :code #x70 :keysym ((255 177) (255 087) (255 222)))
	       (:legend ("2" "" "R14") :code #x71 :keysym ((255 178) (255 084) (255 223)))
	       (:legend ("3" "PgDn" "R15") :code #x72 :keysym ((255 179) (255 224)))
	       (:legend "Enter" :code #x5A :keysym (255 141) :height 2)))
  (:row :left 19. :top 5
	:keys ((:legend ("0" "Ins") :code #x5E :keysym ((255 176) (255 099)) :width 2)
	       (:legend ("." "Del") :code #x32 :keysym ((255 174) (255 255))))))

;;; (x-screen::x-console-make-keyboard-table-argument (first sys:*consoles*))

(defparameter
  *default-sgi-iris-keyboard-mapping-table*
  (sys:make-keyboard-table
    '(nil nil nil nil nil nil nil nil :left-control :caps-lock :right-shift :left-shift
      (#\Escape #\Escape #\ #\) (#\1 #\!) #\Tab (#\q #\Q #\) (#\a #\A nil #\) (#\s #\S)
      nil (#\2 #\@) (#\3 #\#) (#\w #\W #\) (#\e #\E #\ #\) (#\d #\D nil #\ç) (#\f #\F)
      (#\z #\Z) (#\x #\X) (#\4 #\$) (#\5 #\%) (#\r #\R #\) (#\t #\T #\) (#\g #\G #\ #\â)
      (#\h #\H #\) (#\c #\C) (#\v #\V) (#\6 #\^) (#\7 #\&) (#\y #\Y #\) (#\u #\U #\)
      (#\j #\J #\) (#\k #\K #\) (#\b #\B nil #\) (#\n #\N) (#\8 #\* nil #\) (#\9 #\()
      (#\i #\I #\) (#\o #\O #\) (#\l #\L #\ #\à) (#\; #\: nil #\å) (#\m #\M) (#\, #\< #\)
      (#\0 #\)) (#\- #\_ #\) (#\p #\P #\ #\) (#\[ #\{) (#\' #\" #\ ) #\Return (#\. #\> #\)
      (#\/ #\? #\á) (#\= #\+ #\ #\ä) (#\` #\~ #\) (#\] #\}) (#\\ #\|) #\End nil nil
      #\Back-Space #\Rubout #\Keyboard:Left #\Keyboard:Down #\Scroll #\Rubout #\Keyboard:Home
      #\Keyboard:Up :right-symbol #\Keyboard:Right nil nil #\Keyboard:Left #\Keyboard:Down
      #\Keyboard:Back-Scroll #\Keyboard:Copy nil nil nil #\Keyboard:Right #\Keyboard:Up nil
      #\Space nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil :left-meta
      :right-meta :right-control (#\Select #\Square #\Select #\Square)
      (#\Network #\Circle #\Network #\Circle) (#\Function #\Triangle #\Function #\Triangle)
      (#\Suspend (:mode-lock :locking t) #\Suspend (:mode-lock :locking t)) #\Resume #\Abort
      :left-super :left-hyper (#\Scroll #\Page #\Scroll #\Page)
      (#\Clear-Input #\Refresh #\Clear-Input #\Refresh) (#\Complete #\End #\Complete #\End)
      (#\Help #\Help #\Symbol-Help #\Symbol-Help)
      (#\Refresh #\Refresh #\Keyboard:Print #\Keyboard:Print)
      ((:scroll-lock :locking t) (:scroll-lock :locking t) (:scroll-lock :locking t)
       (:scroll-lock :locking t))
      #\Suspend nil #\Keyboard:Home #\Keyboard:Back-Scroll #\End #\Scroll
      ((:num-lock :locking t) (:num-lock :locking t) (:num-lock :locking t)
       (:num-lock :locking t))
      #\Keyboard:Paste #\Keyboard:Cut nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil)))

(sys:define-keyboard-layout :sgi-iris
  (:pretty-name "SGI Iris")
  (:default-mapping-table *default-sgi-iris-keyboard-mapping-table*)
  (:numeric-id #x00050001)

  (:row :left 0 :top 0
	:keys ((:legend "Esc" :code 12)))

  (:row :left 2 :top 0
	:keys ((:legend "F1" :code 151)
	       (:legend "F2" :code 152)
	       (:legend "F3" :code 153)
	       (:legend "F4" :code 154)))

  (:row :left 13/2 :top 0
	:keys ((:legend "F5" :code 155)
	       (:legend "F6" :code 156)
	       (:legend "F7" :code 157)
	       (:legend "F8" :code 158)))

  (:row :left 11 :top 0
	:keys ((:legend "F9" :code 159)
	       (:legend "F10" :code 160)
	       (:legend "F11" :code 161)
	       (:legend "F12" :code 162)))

  (:row :left 16 :top 0
	:keys ((:legend ("Print" "Screen") :code 163)
	       (:legend ("Scroll" "Lock") :code 164)
	       (:legend ("Pause") :code 165)))

  (:row :left 0 :top 2
	:keys ((:legend ("~" "`") :code 60)
	       (:legend ("!" "1") :code 13)
	       (:legend ("@" "2") :code 19)
	       (:legend ("#" "3") :code 20)
	       (:legend ("$" "4") :code 27)
	       (:legend ("%" "5") :code 28)
	       (:legend ("^" "6") :code 35)
	       (:legend ("&" "7") :code 36)
	       (:legend ("*" "8") :code 43)
	       (:legend ("(" "9") :code 44)
	       (:legend (")" "0") :code 51)
	       (:legend ("_" "-") :code 52)
	       (:legend ("+" "=") :code 59)
	       (:legend ("Back Space") :code 66 :width 2)))
  (:row :left 0 :top 3
	:keys ((:legend "Tab" :code 14 :width 4/3)
	       (:legend "Q" :code 15)
	       (:legend "W" :code 21)
	       (:legend "E" :code 22)
	       (:legend "R" :code 29)
	       (:legend "T" :code 30)
	       (:legend "Y" :code 37)
	       (:legend "U" :code 38)
	       (:legend "I" :code 45)
	       (:legend "O" :code 46)
	       (:legend "P" :code 53)
	       (:legend ("{" "[") :code 54)
	       (:legend ("}" "]") :code 61)
	       (:legend ("|" "\\") :code 62 :width 5/3)))
  (:row :left 0 :top 4
	:keys ((:legend "Caps Lock" :code 9 :width 5/3)
	       (:legend "A" :code 16)
	       (:legend "S" :code 17)
	       (:legend "D" :code 23)
	       (:legend "F" :code 25)
	       (:legend "G" :code 31)
	       (:legend "H" :code 32)
	       (:legend "J" :code 39)
	       (:legend "K" :code 40)
	       (:legend "L" :code 47)
	       (:legend (":" ";") :code 48)
	       (:legend ("\"" "'") :code 55)
	       (:legend "Enter" :code 56 :width 7/3)))
  (:row :left 0 :top 5
	:keys ((:name "Left Shift" :legend "Shift" :code 11 :width 2)
	       (:legend "Z" :code 25)
	       (:legend "X" :code 26)
	       (:legend "C" :code 33)
	       (:legend "V" :code 34)
	       (:legend "B" :code 41)
	       (:legend "N" :code 42)
	       (:legend "M" :code 49)
	       (:legend ("<" ",") :code 50)
	       (:legend (">" ".") :code 57)
	       (:legend ("?" "/") :code 58)
	       (:name "Right Shift" :legend "Shift" :code 10 :width 3)))
  (:row :left 0 :top 6
	:keys ((:name "Left Control" :legend "Ctrl" :code 8 :width 4/3)))
  (:row :left 5/2 :top 6
	:keys ((:name "Left Alt" :legend "Alt" :code 148 :width 3/2)
	       (:name "Space" :legend nil :code 88 :width 7)
	       (:name "Right Alt" :legend "Alt" :code 149 :width 3/2)))
  (:row :left 41/3 :top 6
	:keys ((:name "Right Control" :legend "Ctrl" :code 150 :width 4/3)))

  (:row :left 16 :top 2
	:keys ((:legend "Insert" :code 166)
	       (:legend "Home" :code 167)
	       (:legend ("Page" "Up") :code 168)))
  (:row :left 16 :top 3
	:keys ((:legend "Delete" :code 67)
	       (:legend "End" :code 169)
	       (:legend ("Page" "Down") :code 170)))

  (:row :left 17 :top 5
	:keys ((:legend "" :code 86)))
  (:row :left 16 :top 6
	:keys ((:legend "" :code 78)
	       (:legend "" :code 79)
	       (:legend "" :code 85)))

  (:row :left 20 :top 2
	:keys ((:legend ("Num " "Lock") :code 171)
	       (:name "Numeric /" :legend "/" :code 172)
	       (:name "Numeric *" :legend "*" :code 173)
	       (:name "Numeric -" :legend "-" :code 81)))
  (:row :left 20 :top 3
	:keys ((:name "Numeric 7" :legend ("7" "Home") :code 72)
	       (:name "Numeric 8" :legend ("8" "") :code 73)
	       (:name "Numeric 9" :legend ("9" "PgUp") :code 80)
	       (:name "Numeric +" :legend (" " "+" " ") :code 124 :height 2)))
  (:row :left 20 :top 4
	:keys ((:name "Numeric 4" :legend ("4" "") :code 68)
	       (:name "Numeric 5" :legend ("5" " ") :code 74)
	       (:name "Numeric 6" :legend ("6" "") :code 75)))
  (:row :left 20 :top 5
	:keys ((:name "Numeric 1" :legend ("1" "End") :code 63)
	       (:name "Numeric 2" :legend ("2" "") :code 69)
	       (:name "Numeric 3" :legend ("3" "PgDn") :code 70)
	       (:name "Numeric Enter" :legend "Enter" :code 87 :height 2)))
  (:row :left 20 :top 6
	:keys ((:name "Numeric 0" :legend ("0" "Ins") :code 64 :width 2)
	       (:name "Numeric ." :legend ("." "Del") :code 71))))

(defparameter
  *default-ncd-n-101-keyboard-mapping-table*
  (sys:make-keyboard-table
    '(nil nil nil nil nil nil nil nil (#\Escape #\Escape #\ #\) nil nil nil nil #\Tab
      (#\` #\~ #\) (#\Network #\Circle #\Network #\Circle)
      (#\Select #\Square #\Select #\Square) :caps-lock :left-shift nil :left-control
      (#\q #\Q #\) (#\1 #\!) (#\Function #\Triangle #\Function #\Triangle) nil :left-meta
      (#\z #\Z) (#\s #\S) (#\a #\A nil #\) (#\w #\W #\) (#\2 #\@)
      (#\Suspend (:mode-lock :locking t) #\Suspend (:mode-lock :locking t)) nil (#\c #\C)
      (#\x #\X) (#\d #\D nil #\ä) (#\e #\E #\ #\) (#\4 #\$) (#\3 #\#) #\Resume nil #\Space
      (#\v #\V) (#\f #\F) (#\t #\T #\) (#\r #\R #\) (#\5 #\%) #\Abort nil (#\n #\N)
      (#\b #\B nil #\) (#\h #\H #\) (#\g #\G #\ #\â) (#\y #\Y #\) (#\6 #\^) :left-super
      nil :right-meta (#\m #\M) (#\j #\J #\) (#\u #\U #\) (#\7 #\&) (#\8 #\* nil #\)
      :left-hyper nil (#\, #\< #\) (#\k #\K #\) (#\i #\I #\) (#\o #\O #\) (#\0 #\))
      (#\9 #\() (#\Scroll #\Page #\Scroll #\Page) nil (#\. #\> #\) (#\/ #\? #\á)
      (#\l #\L #\ #\à) (#\; #\: nil #\å) (#\p #\P #\ #\) (#\- #\_ #\)
      (#\Clear-Input #\Refresh #\Clear-Input #\Refresh) nil nil (#\' #\" #\ ) nil (#\[ #\{)
      (#\= #\+ #\ #\ç) (#\Complete #\End #\Complete #\End) #\Line :right-control :right-shift
      #\Return (#\] #\}) (#\\ #\|) nil (#\Help #\Help #\Symbol-Help #\Symbol-Help) #\Suspend
      #\Keyboard:Down #\Keyboard:Left nil #\Keyboard:Up #\Rubout #\End #\Back-Space nil nil
      #\End #\Keyboard:Right #\Keyboard:Left #\Keyboard:Home #\Scroll #\Keyboard:Home
      #\Keyboard:Back-Scroll nil #\Rubout #\Keyboard:Down :right-symbol #\Keyboard:Right
      #\Keyboard:Up :num-lock #\Keyboard:Paste nil nil #\Scroll nil nil #\Keyboard:Back-Scroll
      #\Keyboard:Cut nil nil nil nil nil #\Keyboard:Copy nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
      nil nil nil nil)))

(sys:define-keyboard-layout :ncd-n-101
  (:pretty-name "NCD N-101")
  (:default-mapping-table *default-ncd-n-101-keyboard-mapping-table*)

  (:row :left 0 :top 0
	:keys ((:legend "Esc" :code 8)))

  (:row :left 2 :top 0
	:keys ((:legend "F1" :code 16)
	       (:legend "F2" :code 15)
	       (:legend "F3" :code 23)
	       (:legend "F4" :code 31)))

  (:row :left 13/2 :top 0
	:keys ((:legend "F5" :code 39)
	       (:legend "F6" :code 47)
	       (:legend "F7" :code 55)
	       (:legend "F8" :code 63)))

  (:row :left 11 :top 0
	:keys ((:legend "F9" :code 71)
	       (:legend "F10" :code 79)
	       (:legend "F11" :code 86)
	       (:legend "F12" :code 94)))

  (:row :left 16 :top 0
	:keys ((:legend ("Line" "Feed") :code 87)
	       (:legend "Break" :code 95)
	       (:legend "Setup" :code 98)))

  (:row :left 0 :top 2
	:keys ((:legend ("~" "`") :code 14)
	       (:legend ("!" "1") :code 22)
	       (:legend ("@" "2") :code 30)
	       (:legend ("#" "3") :code 38)
	       (:legend ("$" "4") :code 37)
	       (:legend ("%" "5") :code 46)
	       (:legend ("^" "6") :code 54)
	       (:legend ("&" "7") :code 61)
	       (:legend ("*" "8") :code 62)
	       (:legend ("(" "9") :code 70)
	       (:legend (")" "0") :code 69)
	       (:legend ("_" "-") :code 78)
	       (:legend ("+" "=") :code 85)
	       (:legend ("Backspace") :code 102 :width 2)))
  (:row :left 0 :top 3
	:keys ((:legend "Tab" :code 13 :width 4/3)
	       (:legend "Q" :code 21)
	       (:legend "W" :code 29)
	       (:legend "E" :code 36)
	       (:legend "R" :code 45)
	       (:legend "T" :code 44)
	       (:legend "Y" :code 53)
	       (:legend "U" :code 60)
	       (:legend "I" :code 67)
	       (:legend "O" :code 68)
	       (:legend "P" :code 77)
	       (:legend ("{" "[") :code 84)
	       (:legend ("}" "]") :code 91)
	       (:legend ("|" "\\") :code 92 :width 5/3)))
  (:row :left 0 :top 4
	:keys ((:legend "Caps Lock" :code 20 :width 5/3)
	       (:legend "A" :code 28)
	       (:legend "S" :code 27)
	       (:legend "D" :code 35)
	       (:legend "F" :code 43)
	       (:legend "G" :code 52)
	       (:legend "H" :code 51)
	       (:legend "J" :code 59)
	       (:legend "K" :code 66)
	       (:legend "L" :code 75)
	       (:legend (":" ";") :code 76)
	       (:legend ("\"" "'") :code 82)
	       (:legend "Enter" :code 90 :width 7/3)))
  (:row :left 0 :top 5
	:keys ((:name "Left Shift" :legend "Shift" :code 18 :width 2)
	       (:legend "Z" :code 26)
	       (:legend "X" :code 34)
	       (:legend "C" :code 33)
	       (:legend "V" :code 42)
	       (:legend "B" :code 50)
	       (:legend "N" :code 49)
	       (:legend "M" :code 58)
	       (:legend ("<" ",") :code 65)
	       (:legend (">" ".") :code 73)
	       (:legend ("?" "/") :code 74)
	       (:name "Right Shift" :legend "Shift" :code 89 :width 3)))
  (:row :left 0 :top 6
	:keys ((:name "Left Control" :legend "Ctrl" :code 17 :width 4/3)))
  (:row :left 5/2 :top 6
	:keys ((:name "Left Alt" :legend "Alt" :code 25 :width 3/2)
	       (:name "Space" :legend nil :code 41 :width 7)
	       (:name "Right Alt" :legend "Alt" :code 57 :width 3/2)))
  (:row :left 41/3 :top 6
	:keys ((:name "Right Control" :legend "Ctrl" :code 88 :width 4/3)))

  (:row :left 16 :top 2
	:keys ((:legend "Insert" :code 103)
	       (:legend "Home" :code 110)
	       (:legend ("Page" "Up") :code 111)))
  (:row :left 16 :top 3
	:keys ((:legend "Delete" :code 100)
	       (:legend "End" :code 101)
	       (:legend ("Page" "Down") :code 109)))

  (:row :left 17 :top 5
	:keys ((:legend "" :code 99)))
  (:row :left 16 :top 6
	:keys ((:legend "" :code 97)
	       (:legend "" :code 96)
	       (:legend "" :code 106)))

  (:row :left 20 :top 2
	:keys ((:legend ("Num" "Lock") :code 118)
	       (:name "Numeric /" :legend "/" :code 119)
	       (:name "Numeric *" :legend "*" :code 126)
	       (:name "Numeric -" :legend "-" :code 132)))
  (:row :left 20 :top 3
	:keys ((:name "Numeric 7" :legend "7" :code 108)
	       (:name "Numeric 8" :legend "8" :code 117)
	       (:name "Numeric 9" :legend "9" :code 125)
	       (:name "Numeric +" :legend (" " "+" " ") :code 124 :height 2)))
  (:row :left 20 :top 4
	:keys ((:name "Numeric 4" :legend "4" :code 107)
	       (:name "Numeric 5" :legend "5" :code 115)
	       (:name "Numeric 6" :legend "6" :code 116)))
  (:row :left 20 :top 5
	:keys ((:name "Numeric 1" :legend "1" :code 105)
	       (:name "Numeric 2" :legend "2" :code 114)
	       (:name "Numeric 3" :legend "3" :code 122)
	       (:name "Numeric Enter" :legend "Enter" :code 121 :height 2)))
  (:row :left 20 :top 6
	:keys ((:name "Numeric 0" :legend "0" :code 112 :width 2)
	       (:name "Numeric ." :legend "." :code 113))))

(defparameter
  *default-nds-keyboard-mapping-table*
  (sys:make-keyboard-table
    '(nil nil nil nil nil nil nil (#\Select #\Square #\Select #\Square) (#\Escape #\Escape #\ #\)
	  nil nil nil nil #\Tab (#\` #\~ #\) (#\Network #\Circle #\Network #\Circle) nil :left-control
	  :left-shift nil :caps-lock (#\q #\Q #\) (#\1 #\!)
	  (#\Function #\Triangle #\Function #\Triangle) nil :left-meta (#\z #\Z) (#\s #\S)
	  (#\a #\A nil #\) (#\w #\W #\) (#\2 #\@)
	  (#\Suspend (:mode-lock :locking t) #\Suspend (:mode-lock :locking t)) #\Space (#\c #\C)
	  (#\x #\X) (#\d #\D nil #\ç) (#\e #\E #\ #\) (#\4 #\$) (#\3 #\#) #\Resume #\( #\Space
	  (#\v #\V) (#\f #\F) (#\t #\T #\) (#\r #\R #\) (#\5 #\%) #\Abort #\0 (#\n #\N)
	  (#\b #\B nil #\) (#\h #\H #\) (#\g #\G #\ #\â) (#\y #\Y #\) (#\6 #\^) :left-super #\8
	  :right-super (#\m #\M) (#\j #\J #\) (#\u #\U #\) (#\7 #\&) (#\8 #\* nil #\) :left-hyper
	  #\@ (#\, #\< #\) (#\k #\K #\) (#\i #\I #\) (#\o #\O #\) (#\0 #\)) (#\9 #\()
	  (#\Scroll #\Page #\Scroll #\Page) (#\h #\H #\) (#\. #\> #\) (#\/ #\? #\á) (#\l #\L #\ #\à)
	  (#\; #\: nil #\å) (#\p #\P #\ #\) (#\- #\_ #\)
	  (#\Clear-input #\Refresh #\Clear-input #\Refresh) (#\p #\P #\ #\) (#\q #\Q #\)
	  (#\' #\" #\ ) (#\s #\S) (#\[ #\{) (#\= #\+ #\ #\ä) (#\Complete #\End #\Complete #\End)
	  #\Refresh :right-control :right-shift #\Return (#\] #\}) (#\\ #\|) #\]
	  (#\Help #\Help #\Symbol-help #\Symbol-help) #\Suspend #\Keyboard:down #\Keyboard:left
	  #\Suspend #\Keyboard:up (#\Rubout #\Rubout #\Back-space #\Back-space) #\End
	  (#\Back-space #\Back-space #\Rubout #\Rubout) #\Line (#\h #\h #\ #\) #\End #\Keyboard:right
	  #\Keyboard:left #\Keyboard:home #\Scroll #\Keyboard:home #\Keyboard:back-scroll nil #\Rubout
	  #\Keyboard:down :right-symbol #\Keyboard:right #\Keyboard:up :num-lock #\Keyboard:paste #\x
	  nil #\Scroll #\{ nil #\Keyboard:back-scroll #\Keyboard:cut nil nil nil nil nil
	  #\Keyboard:copy nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
	  nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
	  nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
	  nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
	  nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
	  nil nil nil nil nil nil nil nil nil nil nil nil)))

(sys:define-keyboard-layout :nds
  (:pretty-name "NDS")
  (:default-mapping-table *default-nds-keyboard-mapping-table*)

  (:row :left 0 :top 0
	:keys ((:legend "Esc" :code 8)))

  (:row :left 2 :top 0
	:keys ((:legend "F1" :code 16)
	       (:legend "F2" :code 15)
	       (:legend "F3" :code 23)
	       (:legend "F4" :code 31)))

  (:row :left 13/2 :top 0
	:keys ((:legend "F5" :code 39)
	       (:legend "F6" :code 47)
	       (:legend "F7" :code 55)
	       (:legend "F8" :code 63)))

  (:row :left 11 :top 0
	:keys ((:legend "F9" :code 71)
	       (:legend "F10" :code 79)
	       (:legend "F11" :code 86)
	       (:legend "F12" :code 94)))

  (:row :left 16 :top 0
	:keys ((:legend "Setup" :code 135)	;*** Right code?
	       (:legend "Sess'n" :code 137)	;*** Right code?
	       (:legend ("Pause" "Break") :code 95)))

  (:row :left 0 :top 2
	:keys ((:legend ("~" "`") :code 14)
	       (:legend ("!" "1") :code 22)
	       (:legend ("@" "2") :code 30)
	       (:legend ("#" "3") :code 38)
	       (:legend ("$" "4") :code 37)
	       (:legend ("%" "5") :code 46)
	       (:legend ("^" "6") :code 54)
	       (:legend ("&" "7") :code 61)
	       (:legend ("*" "8") :code 62)
	       (:legend ("(" "9") :code 70)
	       (:legend (")" "0") :code 69)
	       (:legend ("_" "-") :code 78)
	       (:legend ("+" "=") :code 85)
	       (:legend ("|" "\\") :code 92)
	       (:legend "" :code 102)))
  (:row :left 0 :top 3
	:keys ((:legend "Tab" :code 13 :width 4/3)
	       (:legend "Q" :code 21)
	       (:legend "W" :code 29)
	       (:legend "E" :code 36)
	       (:legend "R" :code 45)
	       (:legend "T" :code 44)
	       (:legend "Y" :code 53)
	       (:legend "U" :code 60)
	       (:legend "I" :code 67)
	       (:legend "O" :code 68)
	       (:legend "P" :code 77)
	       (:legend ("{" "[") :code 84)
	       (:legend ("}" "]") :code 91)
	       (:legend ("" "" "Enter") :code 90 :width 5/3
			:l-shape-stub (-2/3 1 5/3 2 ))
	       ))
  (:row :left 0 :top 4
	:keys ((:legend "Caps Lock" :code 20 :width 5/3)
	       (:legend "A" :code 28)
	       (:legend "S" :code 27)
	       (:legend "D" :code 35)
	       (:legend "F" :code 43)
	       (:legend "G" :code 52)
	       (:legend "H" :code 51)
	       (:legend "J" :code 59)
	       (:legend "K" :code 66)
	       (:legend "L" :code 75)
	       (:legend (":" ";") :code 76)
	       (:legend ("\"" "'") :code 82)
	       ))
  (:row :left 0 :top 5
	:keys ((:name "Left Shift" :legend "Shift" :code 18 :width 2)
	       (:legend "Z" :code 26)
	       (:legend "X" :code 34)
	       (:legend "C" :code 33)
	       (:legend "V" :code 42)
	       (:legend "B" :code 50)
	       (:legend "N" :code 49)
	       (:legend "M" :code 58)
	       (:legend ("<" ",") :code 65)
	       (:legend (">" ".") :code 73)
	       (:legend ("?" "/") :code 74)
	       (:name "Right Shift" :legend "Shift" :code 89 :width 3)))
  (:row :left 0 :top 6
	:keys ((:name "Left Control" :legend "Ctrl" :code 17 :width 4/3)))
  (:row :left 5/2 :top 6
	:keys ((:name "Left Alt" :legend "Alt" :code 25 :width 3/2)
	       (:name "Space" :legend nil :code 41 :width 7)
	       (:name "Right Alt" :legend "Alt" :code 57 :width 3/2)))
  (:row :left 41/3 :top 6
	:keys ((:name "Right Control" :legend "Ctrl" :code 88 :width 4/3)))

  (:row :left 16 :top 2
	:keys ((:legend "Insert" :code 103)
	       (:legend "Home" :code 110)
	       (:legend ("Page" "Up") :code 111)))
  (:row :left 16 :top 3
	:keys ((:legend "Delete" :code 100)
	       (:legend "End" :code 101)
	       (:legend ("Page" "Down") :code 109)))

  (:row :left 17 :top 5
	:keys ((:legend "" :code 99)))
  (:row :left 16 :top 6
	:keys ((:legend "" :code 97)
	       (:legend "" :code 96)
	       (:legend "" :code 106)))

  (:row :left 20 :top 2
	:keys ((:legend ("Num" "Lock") :code 118)
	       (:name "Numeric /" :legend "/" :code 119)
	       (:name "Numeric *" :legend "*" :code 126)
	       (:name "Numeric -" :legend "-" :code 132)))
  (:row :left 20 :top 3
	:keys ((:name "Numeric 7" :legend ("7" "Home") :code 108)
	       (:name "Numeric 8" :legend ("8" "") :code 117)
	       (:name "Numeric 9" :legend ("9" "Pg Up") :code 125)
	       (:name "Numeric +" :legend (" " "+" " ") :code 124 :height 2)))
  (:row :left 20 :top 4
	:keys ((:name "Numeric 4" :legend ("4" "") :code 107)
	       (:name "Numeric 5" :legend ("5" "") :code 115)
	       (:name "Numeric 6" :legend ("6" "") :code 116)))
  (:row :left 20 :top 5
	:keys ((:name "Numeric 1" :legend ("1" "End") :code 105)
	       (:name "Numeric 2" :legend ("2" "") :code 114)
	       (:name "Numeric 3" :legend ("3" "Pg Dn") :code 122)
	       (:name "Numeric Enter" :legend "Enter" :code 121 :height 2)))
  (:row :left 20 :top 6
	:keys ((:name "Numeric 0" :legend ("0" "Ins") :code 112 :width 2)
	       (:name "Numeric ." :legend ("." "Del") :code 113))))


;;; DEC LK401 AA Keyboard (AXP standard keyboard)

(defparameter *default-DEC-LK401-AA-keyboard-mapping-table*
  (sys:make-keyboard-table
    '(nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
     nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
     nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
     nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil
     nil nil nil nil nil nil			;0 - 85
     (#\Function #\Function #\Function #\Function)	;F1
     (#\Escape #\Escape #\ #\)		;F2
     nil 	                                ;F3  
     nil 	                                ;F4  
     nil	                                ;F5
     nil nil nil nil nil nil nil nil nil	;91 - 99
     (#\Network #\Network #\Network #\Network)	;F6
     nil 					;F7
     nil         				;F8
     nil        				;F9
     nil		                        ;F10
     nil nil nil nil nil nil nil nil		;105 -112
     nil					;F11
     (#\Square #\Square #\Square #\Square)	;F12
     (#\Circle #\Circle #\Circle #\Circle)	;F13
     (#\Triangle #\Triangle #\Triangle #\Triangle)	;F13
     nil nil nil nil nil nil nil		;117 - 123
     (#\Help #\Help #\Symbol-Help #\Symbol-Help)        ;124
     (#\End #\End #\End #\End) nil nil	        ;125 - 127
     (#\Clear-Input #\Clear-Input #\Clear-Input #\Clear-Input)	;F17
     (#\Suspend #\Suspend #\Suspend #\Suspend)  ;F18
     (#\Resume #\Resume #\Resume #\Resume)      ;F19
     (#\Abort #\Abort #\Abort #\Abort) 	        ;F20
     
     nil nil nil nil nil nil			;132 - 137
     (#\Complete #\Complete #\Complete #\Complete) ;138
     #\Line                     ;139
     (#\Backspace #\Backspace #\Backspace #\Backspace)	;140 (Remove)
     (#\Select #\Select #\Select #\Select)	;141
     #\Keyboard:Back-Scroll			;142
     (#\Scroll #\Scroll #\Scroll #\Scroll)	;143
     nil nil					;144 - 145
     (#\0 #\0) nil (#\. #\. #\ #\)		;146 - 148
     (#\End #\Return #\End #\Return)		;149
     (#\1 #\1) (#\2 #\2) (#\3 #\3)		;150 - 152
     (#\4 #\4) (#\5 #\5) (#\6 #\6)		;153 - 155
     (#\, #\, #\ #\) (#\7 #\7)		;156 - 157
     (#\8 #\8 #\ #\) (#\9 #\9)		;158 - 159
     (#\- #\- #\ #\)				;160
     (#\Refresh #\Refresh #\Refresh #\Refresh)  ;161
     (#\Page #\Page #\Page #\Page)		;162
     nil					;163
     ((:mode-lock :locking t) (:mode-lock :locking t)
      (:mode-lock :locking t) (:mode-lock :locking t))	;164
     nil nil					;165 - 166
     #\Keyboard:Left #\Keyboard:Right #\Keyboard:Down #\Keyboard:Up	;167 - 170
     :right-shift :left-meta :right-hyper :left-shift	;171 - 174
     :left-control :caps-lock :left-super :right-symbol	;175 - 178
     nil nil nil nil nil nil nil nil nil	;179 - 187
     #\Rubout #\Return #\Tab (#\` #\~ #\)	;188 - 191

     (#\1 #\!) (#\q #\Q #\) (#\a #\A nil #\) (#\z #\Z)  nil	;192 - 196
     (#\2 #\@) (#\w #\W #\) (#\s #\S) (#\x #\X) (#\< #\>) nil	;197 - 202
     (#\3 #\#) (#\e #\E #\ #\) (#\d #\D nil #\ä )    (#\c #\C)  nil ;203 - 207
     (#\4 #\$) (#\r #\R #\) (#\f #\F) (#\v #\V) #\Space nil	;208 - 213
     (#\5 #\%) (#\t #\T #\) (#\g #\G #\ #\â) (#\b #\B nil #\) nil	;214 - 218
     (#\6 #\^) (#\y #\Y #\) (#\h #\H #\) (#\n #\N) nil	;219 - 223
     (#\7 #\&) (#\u #\U #\) (#\j #\J #\) (#\m #\M) nil	;224 - 228

     (#\8 #\* nil #\) (#\i #\I #\) (#\k #\K #\) (#\, #\< #\) nil	;229 - 233

     (#\9 #\() (#\o #\O #\) (#\l #\L #\ #\à) (#\. #\> #\) nil	;234 - 238

     (#\0 #\)) (#\p #\P #\ #\) nil (#\; #\: nil #\å) (#\/ #\? #\á)	;239 - 243

     nil (#\= #\+ #\ #\ç) (#\[ #\{) (#\\ #\|) nil (#\- #\_ #\)	;244 - 249

     (#\] #\})  (#\' #\" #\ )		;250 - 251

      )))

(sys:define-keyboard-layout :DEC-LK401-AA
  (:pretty-name "DEC LK401 AA")  
  (:default-mapping-table *default-DEC-LK401-AA-keyboard-mapping-table*)
  (:row :left 0 :top 0
	:keys ((:legend "F1" :code 86)
	       (:legend "F2" :code 87)
	       (:legend "F3" :code 88)
	       (:legend "F4" :code 89)
	       (:legend "F5" :code 90)))
  (:row :left 11/2 :top 0
	:keys ((:legend "F6" :code 100)
	       (:legend "F7" :code 101)
	       (:legend "F8" :code 102)
	       (:legend "F9" :code 103)
	       (:legend "F10" :code 104)))
  (:row :left 11 :top 0
	:keys ((:legend "F11" :code 113)
	       (:legend "F12" :code 114)
	       (:legend "F13" :code 115)
	       (:legend "F14" :code 116)))
  (:row :left 16 :top 0
	:keys ((:legend "Help" :code 124)
	       (:legend "Do" :code 125 :width 2)))
  (:row :left 20 :top 0
	:keys ((:legend "F17" :code 128)
	       (:legend "F18" :code 129)
	       (:legend "F18" :code 130)
	       (:legend "F20" :code 131)))
  (:row :left 3/4 :top 2
	:keys ((:legend ("~" "`") :code 191)
	       (:legend ("!" "1") :code 192)
	       (:legend ("@" "2") :code 197)
	       (:legend ("#" "3") :code 203)
	       (:legend ("$" "4") :code 208)
	       (:legend ("%" "5") :code 214)
	       (:legend ("^" "6") :code 219)
	       (:legend ("&" "7") :code 224)
	       (:legend ("*" "8") :code 229)
	       (:legend ("(" "9") :code 234)
	       (:legend (")" "0") :code 239)
	       (:legend ("_" "-") :code 249)
	       (:legend ("+" "=") :code 245)
	       (:legend ("Delete") :code 188 :width 4/3)))
  (:row :left 3/4 :top 3
	:keys ((:legend "Tab" :code 190 :width 4/3)
	       (:legend "Q" :code 193)
	       (:legend "W" :code 198)
	       (:legend "E" :code 204)
	       (:legend "R" :code 209)
	       (:legend "T" :code 215)
	       (:legend "Y" :code 220)
	       (:legend "U" :code 225)
	       (:legend "I" :code 230)
	       (:legend "O" :code 235)
	       (:legend "P" :code 240)
	       (:legend ("{" "[") :code 246 :keysym ((000 091) (000 123)))
	       (:legend ("}" "]") :code 250)
	       (:legend "Enter" :code 189 :width 4/3
			:l-shape-stub (1/4 1 4/3 2))))
  (:row :left 0 :top 4
	:keys ((:name "Left Control" :legend "Ctrl" :code 175)
	       (:legend "Caps Lock" :code 176 :width 4/3)
	       (:legend "A" :code 194)
	       (:legend "S" :code 199)
	       (:legend "D" :code 205)
	       (:legend "F" :code 210)
	       (:legend "G" :code 216)
	       (:legend "H" :code 221)
	       (:legend "J" :code 226)
	       (:legend "K" :code 231)
	       (:legend "L" :code 236)
	       (:legend (":" ";") :code 242)
	       (:legend ("\\" "'") :code 251)
	       (:legend ("|" "\\") :code 247)))
  (:row :left 0 :top 5
	:keys ((:name "Left Shift" :legend "Shift" :code 174 :width 2)
	       (:legend (">" "<") :code 201)
	       (:legend "Z" :code 195)
	       (:legend "X" :code 200)
	       (:legend "C" :code 206)
	       (:legend "V" :code 211)
	       (:legend "B" :code 217)
	       (:legend "N" :code 222)
	       (:legend "M" :code 227)
	       (:legend ("<" ",") :code 232)
	       (:legend (">" ".") :code 237)
	       (:legend ("?" "/") :code 243)
	       (:name "Right Shift" :legend "Shift" :code 171 :width 2)))
  (:row :left 3/2 :top 6
	:keys ((:name "Left Super " :legend ("Compose" "Character") :code 177 :width 3/2)
	       (:name "Left Meta" :legend ("Alt" "Function") :code 172 :width 3/2)
	       (:name "Space" :legend nil :code 212 :width 7)
	       (:name "Right Meta" :legend ("Alt" "Function") :code 178 :width 3/2)
	       (:name "Right Hyper" :legend ("Compose" "Character") :code 173 :width 3/2)))
  (:row :left 16 :top 2
	:keys ((:legend "Find" :code 138)
	       (:legend "Insert Here" :code 139)
	       (:legend "Remove" :code 140)))
  (:row :left 16 :top 3
	:keys ((:legend "Select" :code 141)
	       (:legend "Previous" :code 142)
	       (:legend "Next" :code 143)))
  (:row :left 17 :top 4
	:keys ((:legend "" :code 170)))
  (:row :left 16 :top 5
	:keys ((:legend "" :code 167)
	       (:legend "" :code 169)
	       (:legend "" :code 168)))
  (:row :left 20 :top 2
	:keys ((:legend "PF1" :code 161)
	       (:legend "PF2" :code 162)
	       (:legend "PF3" :code 163)
               (:legend "PF4" :code 164)))
  (:row :left 20 :top 3
	:keys ((:name "Numeric 7" :legend "7" :code 157)
	       (:name "Numeric 8" :legend "8" :code 158)
	       (:name "Numeric 9" :legend "9" :code 159)
	       (:name "Numeric -" :legend "-" :code 160)))
  (:row :left 20 :top 4
	:keys ((:name "Numeric 4" :legend "4" :code 153)
	       (:name "Numeric 5" :legend "5" :code 154)
	       (:name "Numeric 6" :legend "6" :code 155)
               (:name "'" :legend "'" :code 156)))
  (:row :left 20 :top 5
	:keys ((:name "Numeric 1" :legend "1" :code 150)
	       (:name "Numeric 2" :legend "2" :code 151)
	       (:name "Numeric 3" :legend "3" :code 152)
	       (:name "Numeric Enter" :legend "Enter" :code 149 :height 2)))
  (:row :left 20 :top 6
	:keys ((:name "Numeric 0" :legend "0" :code 146 :width 2)
	       (:name "Numeric ." :legend "." :code 148))))
